"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[373],{8164:(Ln,z,m)=>{m.r(z),m.d(z,{PaymentModule:()=>y});var t=m(4090),_=m(6019),g=m(9861),$=m(4522),c=m(8260);class Z{constructor(n){this.http=n,this.showLoader=!1,this.apiUrl=c.N.apiUrl+"/v1/customers",this.apiUrlGrille=c.N.apiUrl+"/v1/grilletarifaires",this.httpOptions={headers:new $.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}create(n){return this.http.post(`${c.N.apiUrl}/v1/transactions`,n)}verifieotp(n){return this.http.post(`${c.N.apiUrl}/v1/transactions/otp`,n)}sentotp(n){return this.http.get(`${c.N.apiUrl}/v1/transactions/sendotp/${n}`)}resentotp(n){return this.http.get(`${c.N.apiUrl}/v1/transactions/resendotp/${n}`)}createGrille(n){return this.http.post(`${c.N.apiUrl}/v1/grilletarifaires`,n)}createTaux(n){return this.http.post(`${c.N.apiUrl}/v1/tauxechanges`,n)}createtransfert(n){return this.http.post(`${c.N.apiUrl}/v1/transactions`,n)}updatestatustransfert(n){return this.http.post(`${c.N.apiUrl}/v1/transactions/updatestatus`,n)}deletetransaction(n){return this.http.delete(`${c.N.apiUrl}/v1/transactions/${n}`)}GetRecu(n){return this.http.get(`${c.N.apiUrl}/v1/transactions/recu/${n}`)}GetContacts(n){return this.http.get(`${c.N.apiUrl}/v1/customers/contact/${n}`)}GetCustomers(){return this.http.get(`${c.N.apiUrl}/v1/customers`)}GetCustomerByUser(n){return this.http.get(`${c.N.apiUrl}/v1/customers/${n}/user`)}GetCustomerByID(n){return this.http.get(`${c.N.apiUrl}/v1/customers/${n}`)}GetCustomerTransactions(n){return this.http.get(`${c.N.apiUrl}/v1/customers/${n}/transaction`)}updateCustomer(n){return this.http.post(`${c.N.apiUrl}/v1/customers/update/`,n)}transfertbalance(n){return this.http.post(`${c.N.apiUrl}/v1/balances/maketranfert/`,n)}GetEmployes(){return this.http.get(`${c.N.apiUrl}/v1/employes`)}GetTauxEchange(){return this.http.get(`${c.N.apiUrl}/v1/tauxechanges`)}GetTauxEchangeByCountry(n){return this.http.get(`${c.N.apiUrl}/v1/tauxechanges/${n}/country`)}GetTauxEchangeByID(n){return this.http.get(`${c.N.apiUrl}/v1/tauxechanges/${n}`)}GetTauxEchangeByDefault(){return this.http.get(`${c.N.apiUrl}/v1/tauxechanges/default`)}GetTransactions(n,e){return this.http.get(`${c.N.apiUrl}/v1/transactions/?limit=`+n+"&offset="+e)}GetBalancesPAYCI(){return this.http.get(`${c.N.apiUrl}/v1/transactions/getbalance/payci`)}GetTransactionsv1(){return this.http.get(`${c.N.apiUrl}/v1/transactions`)}GetTransactionone(n){return this.http.get(`${c.N.apiUrl}/v1/transactions/${n}`)}GetGrilles(){return this.http.get(`${c.N.apiUrl}/v1/grilletarifaires`)}GetGrillesByamount(n,e){return this.http.get(`${c.N.apiUrl}/v1/grilletarifaires/${e}/${n}/frais`)}GetPrefunds(){return this.http.get(`${c.N.apiUrl}/v1/prefrundings`)}GetBalance(){return this.http.get(`${c.N.apiUrl}/v1/balances`)}TransfertBalance(n){return this.http.post(`${c.N.apiUrl}/v1/balances/transfert`,n)}GetBalanceCountry(n){return this.http.get(`${c.N.apiUrl}/v1/balances/${n}/country`)}ValidatePrefunds(n){return this.http.get(`${c.N.apiUrl}/v1/prefrundings/${n}/validate`)}update(n){return this.http.put(`${c.N.apiUrl}/v1/users`,n)}Import(n){return this.http.post(`${c.N.apiUrl}/v1/users/import`,n)}Delete(n){const e=`${this.apiUrl}/${n}`;return this.http.delete(e)}}Z.\u0275fac=function(n){return new(n||Z)(t.LFG($.eN))},Z.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});var f=m(8390),b=m(3392),h=m(345),r=m(9133),d=m(2745);const L=["addContacts"];function V(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"h5",2),t._uU(2,"Ajouter un contact"),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",4),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"form",6),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"label",9),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t._UZ(14,"input",12),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"input",13),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"label",15),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",16),t.qZA(),t.TgZ(21,"div",14),t.TgZ(22,"label",15),t._uU(23,"Bussiname"),t.qZA(),t._UZ(24,"input",17),t.qZA(),t.TgZ(25,"div",8),t.TgZ(26,"label",9),t._uU(27,"Bank infomation"),t.qZA(),t.TgZ(28,"div",10),t.TgZ(29,"div",18),t._UZ(30,"input",19),t.qZA(),t.TgZ(31,"div",18),t._UZ(32,"input",20),t.qZA(),t.TgZ(33,"div",18),t.TgZ(34,"select",21),t.TgZ(35,"option",22),t._uU(36,"Select type"),t.qZA(),t.TgZ(37,"option",23),t._uU(38,"Checking"),t.qZA(),t.TgZ(39,"option",24),t._uU(40,"Savings"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"input",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(43,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(44,"Save"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.userForm)}}class w{constructor(n,e,i,a,l,s,p){this.platformId=n,this.translateService=e,this.toaster=i,this.paymentService=a,this.router=l,this.modalService=s,this.fb=p,this.modalOpen=!1,this.userForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],firstname:["",r.kI.required],lastname:["",r.kI.required],businessName:["",r.kI.required],routingNumber:["",r.kI.required],accountNumber:["",r.kI.required],typeaccount:["",r.kI.required],name:["",r.kI.required]})}ngOnInit(){}openModal(){(0,_.NF)(this.platformId)&&this.modalService.open(this.addContacts,{size:"lg",ariaLabelledBy:"modal",centered:!0,windowClass:"modal-bookmark"}).result.then(n=>{this.modalOpen=!0},n=>{this.closeResult=`Dismissed ${this.getDismissReason(n)}`})}getDismissReason(n){return n===d.If.ESC?"by pressing ESC":n===d.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${n}`}ngOnDestroy(){this.modalOpen&&this.modalService.dismissAll()}reloadCurrentRoute(){const n=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([n])})}onSubmit(){const n={data:{email:this.userForm.value.email,name:this.userForm.value.name,type:this.userForm.value.typeaccount,firstName:this.userForm.value.firstname,lastName:this.userForm.value.lastname,businessName:this.userForm.value.businessName,routingNumber:this.userForm.value.routingNumber,accountNumber:this.userForm.value.accountNumber}};console.log(n),this.paymentService.create(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.reloadCurrentRoute()},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}}w.\u0275fac=function(n){return new(n||w)(t.Y36(t.Lbi),t.Y36(f.sK),t.Y36(b._W),t.Y36(Z),t.Y36(g.F0),t.Y36(d.FF),t.Y36(r.qu))},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-add-contact"]],viewQuery:function(n,e){if(1&n&&t.Gf(L,5),2&n){let i;t.iGM(i=t.CRH())&&(e.addContacts=i.first)}},decls:2,vars:0,consts:[["addContacts",""],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12"],["for","con-name"],[1,"row"],[1,"col-sm-6"],["formControlName","firstname","id","con-firstname","type","text","required","","placeholder","First Name","autocomplete","off",1,"form-control"],["formControlName","lastname","id","con-last","type","text","required","","placeholder","Last Name","autocomplete","off",1,"form-control"],[1,"form-group","mb-3","col-md-6"],["for","con-mail"],["id","con-mail","formControlName","email","type","email","required","","autocomplete","off",1,"form-control"],["id","con-bussiness","formControlName","businessName","type","text","required","","autocomplete","off",1,"form-control"],[1,"mb-3","col-sm-6"],["formControlName","routingNumber","id","con-routing","type","text","required","","placeholder","routing Number","autocomplete","off",1,"form-control"],["formControlName","accountNumber","id","con-account","type","text","required","","placeholder","account Number","autocomplete","off",1,"form-control"],["formControlName","typeaccount",1,"form-select"],["value",""],["value","checking"],["value","savings"],["formControlName","name","id","con-name","type","text","required","","placeholder","Account name","autocomplete","off",1,"form-control"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"click"]],template:function(n,e){1&n&&t.YNc(0,V,45,1,"ng-template",null,0,t.W1O)},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,r.EJ,r.YN,r.Kr],styles:[".form-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;vertical-align:middle;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;appearance:none}"]});const K=["addContacts"];function W(o,n){if(1&o&&(t.TgZ(0,"ng-option",18),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e.firstname," ",e.lastname," ")}}class U{constructor(n,e,i){this.paymentService=n,this.translateService=e,this.toaster=i,this.contacts=[]}ngOnInit(){this.paymentService.GetContacts(1).subscribe(n=>{this.contacts=n.data})}sendmoney(){const n={data:{contact:this.mcontact.id,amount:this.mamount}};console.log(n),this.paymentService.createtransfert(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}}U.\u0275fac=function(n){return new(n||U)(t.Y36(Z),t.Y36(f.sK),t.Y36(b._W))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-send-money"]],viewQuery:function(n,e){if(1&n&&t.Gf(K,5),2&n){let i;t.iGM(i=t.CRH())&&(e.addContacts=i.first)}},decls:24,vars:3,consts:[[1,"container-fluid"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-sm-8"],["id","con-contact",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],["type","button",1,"btn","btn-sm","btn-success","mt-2",3,"click"],[1,"icofont","icofont-plus"],[1,"col-md-8"],[1,"form-group"],["for","exampleInputPassword2"],["id","exampleInputPassword2","type","number","placeholder","Amount",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success",3,"click"],[1,"card-footer"],["addContacts",""],[3,"value"]],template:function(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"label"),t._uU(7,"Contacts"),t.qZA(),t.TgZ(8,"ng-select",6),t.NdJ("ngModelChange",function(l){return e.mcontact=l}),t.YNc(9,W,2,3,"ng-option",7),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"button",9),t.NdJ("click",function(){return t.CHM(i),t.MAs(23).openModal()}),t._UZ(12,"i",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",4),t.TgZ(14,"div",11),t.TgZ(15,"div",12),t.TgZ(16,"label",13),t._uU(17,"Montant"),t.qZA(),t.TgZ(18,"input",14),t.NdJ("ngModelChange",function(l){return e.mamount=l}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"button",15),t.NdJ("click",function(){return e.sendmoney()}),t._uU(20,"Envoyer"),t.qZA(),t.qZA(),t._UZ(21,"div",16),t.qZA(),t.qZA(),t._UZ(22,"app-add-contact",null,17)}2&n&&(t.xp6(8),t.Q6J("ngModel",e.mcontact),t.xp6(1),t.Q6J("ngForOf",e.contacts),t.xp6(9),t.Q6J("ngModel",e.mamount))},directives:[h.w9,r.JJ,r.On,_.sg,r.wV,r.Fj,w,h.xv],styles:[".mt-2[_ngcontent-%COMP%]{margin-top:25px!important}"]});var T=m(1630),u=m(1408);function X(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.AsE(" ",e.firstname," ",e.lastname," ")}}function tt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.email," ")}}function et(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.phone," ")}}function nt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"button",20),t._UZ(2,"i",21),t.qZA(),t.TgZ(3,"div",22),t.TgZ(4,"button",23),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().detail(l)}),t.TgZ(5,"div",24),t._UZ(6,"i",25),t.TgZ(7,"span",26),t._uU(8,"Editer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"button",23),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().transaction(l)}),t.TgZ(10,"div",24),t._UZ(11,"i",27),t.TgZ(12,"span",26),t._uU(13,"Transactions"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"button",23),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().beneficiare(l)}),t.TgZ(15,"div",24),t._UZ(16,"i",28),t.TgZ(17,"span",26),t._uU(18,"Beneficiares"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"button",23),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().delete(l)}),t.TgZ(20,"div",24),t._UZ(21,"i",29),t.TgZ(22,"span",26),t._uU(23,"Suprimer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}const ot=function(){return["Clients","Lists"]};class k{constructor(n,e,i,a,l,s){this.router=n,this.translateService=e,this.route=i,this.toaster=a,this.fb=l,this.paymentService=s,this.rows=[],this.selected=[],this.form=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required],firstname:["",r.kI.required],lastname:["",r.kI.required],phone:["",r.kI.required],country:["",r.kI.required],roles:["",r.kI.required]})}onSelect({selected:n}){this.selected.splice(0,this.selected.length),this.selected.push(...n)}ngOnInit(){this.paymentService.GetCustomers().subscribe(n=>{this.rows=n.data})}detail(n){this.router.navigate(["/payment/customeredit-page/"+Number(n.id)])}delete(n){}transaction(n){this.router.navigate(["/payment/customertransaction-page/"+Number(n.id)])}beneficiare(n){this.router.navigate(["/payment/customerbeneficiare-page/"+Number(n.id)])}}k.\u0275fac=function(n){return new(n||k)(t.Y36(g.F0),t.Y36(f.sK),t.Y36(g.gz),t.Y36(b._W),t.Y36(r.qu),t.Y36(Z))},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-customer"]],decls:25,vars:25,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","custom-tilte","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-warning","btn-sm"],[1,"icofont","icofont-print"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Nom et prenoms"],["ngx-datatable-cell-template",""],["name","Email"],["name","Telephone"],["cellClass","allow-overflow",3,"sortable","width"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-split-h"],[1,"feather","icon-user"],[1,"feather","icon-trash"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Clients"),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t._UZ(11,"i",10),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",11),t.TgZ(15,"ngx-datatable",12),t.NdJ("select",function(a){return e.onSelect(a)}),t._UZ(16,"ngx-datatable-column",13),t.TgZ(17,"ngx-datatable-column",14),t.YNc(18,X,1,2,"ng-template",15),t.qZA(),t.TgZ(19,"ngx-datatable-column",16),t.YNc(20,tt,1,1,"ng-template",15),t.qZA(),t.TgZ(21,"ngx-datatable-column",17),t.YNc(22,et,1,1,"ng-template",15),t.qZA(),t.TgZ(23,"ngx-datatable-column",18),t.YNc(24,nt,24,0,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("title","Clients")("items",t.DdM(24,ot))("active_item","Clients"),t.xp6(12),t.hij(" ",t.lcZ(13,22,"action.print")," "),t.xp6(3),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",e.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),t.xp6(1),t.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),t.xp6(7),t.Q6J("sortable",!1)("width",40))},directives:[T.L,u.nE,u.UC,u.vq,d.jt,d.iD,d.Vi,d.TH],pipes:[f.X$],styles:[""]});var q=m(4292),D=m(8945);function it(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.tranche_a," ")}}function at(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.tranche_b," ")}}function rt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.frais," ")}}function lt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.zone.libelle," ")}}function st(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"button",23),t._UZ(2,"i",24),t.qZA(),t.TgZ(3,"div",25),t.TgZ(4,"button",26),t.NdJ("click",function(){const l=t.CHM(e).row,s=t.oxw(),p=t.MAs(29);return s.detail(p,l)}),t.TgZ(5,"div",27),t._UZ(6,"i",28),t.TgZ(7,"span",29),t._uU(8,"Editer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){return t.CHM(e),t.oxw().delete()}),t.TgZ(10,"div",27),t._UZ(11,"i",30),t.TgZ(12,"span",29),t._uU(13,"Suprimer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function ct(o,n){1&o&&(t.TgZ(0,"div",53),t._uU(1," tranche_a is required "),t.qZA())}function dt(o,n){if(1&o&&(t.TgZ(0,"ng-option",54),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function ut(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",31),t.TgZ(1,"h4",32),t._uU(2,"Nouvelle grille tarifaire"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",35),t.TgZ(7,"form",36),t.TgZ(8,"div",37),t.TgZ(9,"div",38),t.TgZ(10,"div",2),t.TgZ(11,"div",39),t.TgZ(12,"label",40),t._uU(13,"Tranche A"),t.qZA(),t._UZ(14,"input",41),t.YNc(15,ct,2,0,"div",42),t.qZA(),t.TgZ(16,"div",39),t.TgZ(17,"label",40),t._uU(18,"Tranche B"),t.qZA(),t._UZ(19,"input",43),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",39),t.TgZ(22,"label",44),t._uU(23,"Taux"),t.qZA(),t._UZ(24,"input",45),t.qZA(),t.TgZ(25,"div",39),t.TgZ(26,"label",46),t._uU(27,"Zone"),t.qZA(),t.TgZ(28,"ng-select",47),t.YNc(29,dt,2,2,"ng-option",48),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(30,"input",49),t.qZA(),t.qZA(),t.TgZ(31,"div",50),t.TgZ(32,"button",51),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(33,"Close"),t.qZA(),t.TgZ(34,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(35,"Save"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.tranche_a.touched&&(null==e.form.controls.tranche_a.errors?null:e.form.controls.tranche_a.errors.phone)),t.xp6(14),t.Q6J("ngForOf",e.zoneSharedCollection),t.xp6(5),t.Q6J("disabled",!e.form.valid)}}function mt(o,n){1&o&&(t.TgZ(0,"div",53),t._uU(1," tranche_a is required "),t.qZA())}function pt(o,n){if(1&o&&(t.TgZ(0,"ng-option",54),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function _t(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",31),t.TgZ(1,"h4",32),t._uU(2,"Modifier grille tarifaire"),t.qZA(),t.TgZ(3,"button",33),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",34),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",35),t.TgZ(7,"form",36),t.TgZ(8,"div",37),t.TgZ(9,"div",38),t.TgZ(10,"div",2),t.TgZ(11,"div",39),t.TgZ(12,"label",40),t._uU(13,"Tranche A"),t.qZA(),t._UZ(14,"input",41),t.YNc(15,mt,2,0,"div",42),t.qZA(),t.TgZ(16,"div",39),t.TgZ(17,"label",40),t._uU(18,"Tranche B"),t.qZA(),t._UZ(19,"input",43),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",39),t.TgZ(22,"label",44),t._uU(23,"Taux"),t.qZA(),t._UZ(24,"input",45),t.qZA(),t.TgZ(25,"div",39),t.TgZ(26,"label",40),t._uU(27,"Zone"),t.qZA(),t.TgZ(28,"ng-select",47),t.YNc(29,pt,2,2,"ng-option",48),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(30,"input",49),t.qZA(),t.qZA(),t.TgZ(31,"div",50),t.TgZ(32,"button",51),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(33,"Close"),t.qZA(),t.TgZ(34,"button",52),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(35,"Save"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.tranche_a.touched&&(null==e.form.controls.tranche_a.errors?null:e.form.controls.tranche_a.errors.phone)),t.xp6(14),t.Q6J("ngForOf",e.zoneSharedCollection),t.xp6(5),t.Q6J("disabled",!e.form.valid)}}const gt=function(){return["Grille tarifaire","Lists"]};class N{constructor(n,e,i,a,l,s,p,A){this.staticservice=n,this.paymentService=e,this.modalService=i,this.translateService=a,this.toaster=l,this.fb=s,this.router=p,this.userService=A,this.rows=[],this.selected=[],this.zoneSharedCollection=[],this.form=this.fb.group({tranche_a:["",[r.kI.required]],tranche_b:["",r.kI.required],zone:["",r.kI.required],frais:["",r.kI.required],id:[]})}onSelect({selected:n}){this.selected.splice(0,this.selected.length),this.selected.push(...n)}openLg(n){this.form.reset(),this.modalService.open(n,{size:"lg"})}ngOnInit(){this.paymentService.GetGrilles().subscribe(n=>{this.rows=n.data}),this.staticservice.GetZones().subscribe(n=>{this.zoneSharedCollection=n.data})}onSubmit(){const n={data:{tranche_a:this.form.value.tranche_a,tranche_b:this.form.value.tranche_b,zone:this.form.value.zone,frais:this.form.value.frais,id:this.form.value.id}};console.log(n),this.paymentService.createGrille(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.paymentService.GetGrilles().subscribe(i=>{this.rows=i.data})},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}detail(n,e){this.form.patchValue({tranche_a:e.tranche_a,tranche_b:e.tranche_b,zone:e.zone.id,frais:e.frais,id:e.id}),this.modalService.open(n,{size:"lg"})}delete(){}}function Zt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.code," ")}}function ft(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.symbole," ")}}function ht(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.montant," ")}}function bt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.montant2," ")}}function Tt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"button",22),t._UZ(2,"i",23),t.qZA(),t.TgZ(3,"div",24),t.TgZ(4,"button",25),t.NdJ("click",function(){const l=t.CHM(e).row,s=t.oxw(),p=t.MAs(29);return s.detail(p,l)}),t.TgZ(5,"div",26),t._UZ(6,"i",27),t.TgZ(7,"span",28),t._uU(8,"Editer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"button",25),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().delete(l)}),t.TgZ(10,"div",26),t._UZ(11,"i",29),t.TgZ(12,"span",28),t._uU(13,"Suprimer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function At(o,n){1&o&&(t.TgZ(0,"div",50),t._uU(1," Code is required "),t.qZA())}function qt(o,n){if(1&o&&(t.TgZ(0,"ng-option",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function vt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",30),t.TgZ(1,"h4",31),t._uU(2,"Nouvelle taux d'echange"),t.qZA(),t.TgZ(3,"button",32),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",33),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",34),t.TgZ(7,"form",35),t.TgZ(8,"div",36),t.TgZ(9,"div",37),t.TgZ(10,"div",2),t.TgZ(11,"div",38),t.TgZ(12,"label",39),t._uU(13,"Code"),t.qZA(),t._UZ(14,"input",40),t.YNc(15,At,2,0,"div",41),t.qZA(),t.TgZ(16,"div",38),t.TgZ(17,"label",39),t._uU(18,"Symbole"),t.qZA(),t._UZ(19,"input",42),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",38),t.TgZ(22,"label",39),t._uU(23,"Montant "),t.qZA(),t._UZ(24,"input",43),t.qZA(),t.TgZ(25,"div",38),t.TgZ(26,"label",39),t._uU(27,"Montant"),t.qZA(),t._UZ(28,"input",44),t.qZA(),t.TgZ(29,"div",38),t.TgZ(30,"label",39),t._uU(31,"Zone"),t.qZA(),t.TgZ(32,"ng-select",45),t.YNc(33,qt,2,2,"ng-option",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"div",47),t.TgZ(35,"button",48),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(36,"Close"),t.qZA(),t.TgZ(37,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(38,"Save"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.code.touched&&(null==e.form.controls.code.errors?null:e.form.controls.code.errors.phone)),t.xp6(18),t.Q6J("ngForOf",e.zoneSharedCollection),t.xp6(4),t.Q6J("disabled",!e.form.valid)}}function Ct(o,n){1&o&&(t.TgZ(0,"div",50),t._uU(1," Code is required "),t.qZA())}function xt(o,n){if(1&o&&(t.TgZ(0,"ng-option",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function yt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",30),t.TgZ(1,"h4",31),t._uU(2,"Modifier taux d'echange"),t.qZA(),t.TgZ(3,"button",32),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",33),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",34),t.TgZ(7,"form",35),t.TgZ(8,"div",36),t.TgZ(9,"div",37),t.TgZ(10,"div",2),t.TgZ(11,"div",38),t.TgZ(12,"label",39),t._uU(13,"Code"),t.qZA(),t._UZ(14,"input",40),t.YNc(15,Ct,2,0,"div",41),t.qZA(),t.TgZ(16,"div",38),t.TgZ(17,"label",39),t._uU(18,"Symbole"),t.qZA(),t._UZ(19,"input",42),t.qZA(),t.qZA(),t.TgZ(20,"div",2),t.TgZ(21,"div",38),t.TgZ(22,"label",39),t._uU(23,"Montant "),t.qZA(),t._UZ(24,"input",43),t.qZA(),t.TgZ(25,"div",38),t.TgZ(26,"label",39),t._uU(27,"Montant"),t.qZA(),t._UZ(28,"input",44),t.qZA(),t.TgZ(29,"div",38),t.TgZ(30,"label",39),t._uU(31,"Zone"),t.qZA(),t.TgZ(32,"ng-select",45),t.YNc(33,xt,2,2,"ng-option",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(34,"input",52),t.qZA(),t.qZA(),t.TgZ(35,"div",47),t.TgZ(36,"button",48),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(37,"Close"),t.qZA(),t.TgZ(38,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(39,"Save"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.code.touched&&(null==e.form.controls.code.errors?null:e.form.controls.code.errors.phone)),t.xp6(18),t.Q6J("ngForOf",e.zoneSharedCollection),t.xp6(5),t.Q6J("disabled",!e.form.valid)}}N.\u0275fac=function(n){return new(n||N)(t.Y36(q.T),t.Y36(Z),t.Y36(d.FF),t.Y36(f.sK),t.Y36(b._W),t.Y36(r.qu),t.Y36(g.F0),t.Y36(D.f))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-grilletarifaire"]],decls:30,vars:26,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Tranche A",3,"width"],["ngx-datatable-cell-template",""],["name","Tranche B",3,"width"],["name","Taux",3,"width"],["name","Zone",3,"width"],["name","Actions","cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentedit",""],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","tranche_a","id","con-phone","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","tranche_b","id","con-phone","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["for","con-frais"],["formControlName","frais","id","con-frais","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["for","con-country"],["formControlName","zone","id","con-country"],[3,"value",4,"ngFor","ngForOf"],["id","index_var","type","hidden","value","5"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[1,"text","text-danger","mt-1"],[3,"value"]],template:function(n,e){if(1&n){const i=t.EpF();t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Grille tarifaire"),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(27);return e.openLg(l)}),t._UZ(11,"i",10),t._uU(12," Ajouter une grille tarifaire "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"ngx-datatable",12),t.NdJ("select",function(l){return e.onSelect(l)}),t._UZ(15,"ngx-datatable-column",13),t.TgZ(16,"ngx-datatable-column",14),t.YNc(17,it,1,1,"ng-template",15),t.qZA(),t.TgZ(18,"ngx-datatable-column",16),t.YNc(19,at,1,1,"ng-template",15),t.qZA(),t.TgZ(20,"ngx-datatable-column",17),t.YNc(21,rt,1,1,"ng-template",15),t.qZA(),t.TgZ(22,"ngx-datatable-column",18),t.YNc(23,lt,1,1,"ng-template",15),t.qZA(),t.TgZ(24,"ngx-datatable-column",19),t.YNc(25,st,14,0,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,ut,36,4,"ng-template",null,20,t.W1O),t.YNc(28,_t,36,4,"ng-template",null,21,t.W1O)}2&n&&(t.Q6J("title","Grille tarifaire")("items",t.DdM(25,gt))("active_item","Grille tarifaire"),t.xp6(14),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",e.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),t.xp6(1),t.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),t.xp6(1),t.Q6J("width",40),t.xp6(2),t.Q6J("width",40),t.xp6(2),t.Q6J("width",40),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("sortable",!1)("width",40))},directives:[T.L,u.nE,u.UC,u.vq,d.jt,d.iD,d.Vi,d.TH,r._Y,r.JL,r.sg,r.Fj,r.wV,r.JJ,r.u,r.Q7,_.O5,h.w9,_.sg,h.xv],styles:[""]});const wt=function(){return["Taux d'echange","Lists"]};class S{constructor(n,e,i,a,l,s,p,A){this.staticservice=n,this.paymentService=e,this.router=i,this.modalService=a,this.fb=l,this.translateService=s,this.toaster=p,this.userService=A,this.rows=[],this.selected=[],this.zoneSharedCollection=[],this.form=this.fb.group({code:["",[r.kI.required]],montant:["",r.kI.required],montantinter:["",r.kI.required],symbole:["",r.kI.required],zone:["",r.kI.required],id:[]})}onSelect({selected:n}){this.selected.splice(0,this.selected.length),this.selected.push(...n)}openLg(n){this.form.reset(),this.modalService.open(n,{size:"lg"})}ngOnInit(){this.paymentService.GetTauxEchange().subscribe(n=>{this.rows=n.data}),this.staticservice.GetZones().subscribe(n=>{this.zoneSharedCollection=n.data})}onSubmit(){const n={data:{code:this.form.value.code,montant:this.form.value.montant,montantinter:this.form.value.montantinter,symbole:this.form.value.symbole,zone:this.form.value.zone,id:this.form.value.id}};console.log(n),this.paymentService.createTaux(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.paymentService.GetTauxEchange().subscribe(i=>{this.rows=i.data})},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}detail(n,e){this.form.patchValue({code:e.code,montant:e.montant,zone:e.zone.id,montantinter:e.montant2,symbole:e.symbole,id:e.id}),this.modalService.open(n,{size:"lg"})}delete(n){}}function Ut(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.numero," ")}}function kt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.customer_name," ")}}function Nt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.mode," ")}}function St(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.amount," ")}}function Jt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.description," ")}}function Mt(o,n){1&o&&(t.TgZ(0,"span",30),t._uU(1,"Enabled"),t.qZA())}function Ft(o,n){1&o&&(t.TgZ(0,"span",31),t._uU(1,"Pending"),t.qZA())}function Yt(o,n){if(1&o&&(t.YNc(0,Mt,2,0,"span",28),t.YNc(1,Ft,2,0,"span",29)),2&o){const e=n.row;t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",0==e.status)}}function Gt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.country.libelle," ")}}function Qt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"button",33),t._UZ(2,"i",34),t.qZA(),t.TgZ(3,"div",35),t.TgZ(4,"button",36),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().validate(l)}),t.TgZ(5,"div",37),t._UZ(6,"i",38),t.TgZ(7,"span",39),t._uU(8,"validate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"button",36),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().delete(l)}),t.TgZ(10,"div",37),t._UZ(11,"i",40),t.TgZ(12,"span",39),t._uU(13,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function Et(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"h4",42),t._uU(2,"Ajouter les fonds"),t.qZA(),t.TgZ(3,"button",43),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",44),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",45),t.TgZ(7,"form",46),t.TgZ(8,"div",47),t.TgZ(9,"div",48),t.TgZ(10,"div",2),t.TgZ(11,"div",49),t.TgZ(12,"label",50),t._uU(13,"Type"),t.qZA(),t._UZ(14,"input",51),t.qZA(),t.TgZ(15,"div",49),t.TgZ(16,"label",52),t._uU(17,"Montant"),t.qZA(),t._UZ(18,"input",53),t.qZA(),t.qZA(),t.TgZ(19,"div",2),t.TgZ(20,"div",3),t.TgZ(21,"label",54),t._uU(22,"Description"),t.qZA(),t._UZ(23,"textarea",55),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",56),t.TgZ(25,"button",57),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(26,"Close"),t.qZA(),t.TgZ(27,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmit()}),t._uU(28,"Save"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.form),t.xp6(20),t.Q6J("disabled",!e.form.valid)}}function It(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"h4",42),t._uU(2,"Details des balancess"),t.qZA(),t.TgZ(3,"button",43),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",44),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",45),t.TgZ(7,"button",59),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),l=t.MAs(40);return a.openBalanceCI(l)}),t._uU(8,"PAYCI"),t.qZA(),t.qZA(),t._UZ(9,"div",56)}}function Ot(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"h4",42),t._uU(2,"Liste de comptes"),t.qZA(),t.TgZ(3,"button",43),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",44),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",45),t.TgZ(7,"table",60),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11,"Pays"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Solde"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.TgZ(15,"tr"),t.TgZ(16,"td"),t._uU(17,"Cameroun"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"tr"),t.TgZ(21,"td"),t._uU(22,"Cote d'ivoire"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"td"),t._uU(27,"Mali"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"tr"),t.TgZ(31,"td"),t._uU(32,"Senegal"),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.qZA(),t.TgZ(35,"tr"),t.TgZ(36,"td"),t._uU(37,"BJ"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td"),t._uU(42,"Togo"),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"tr"),t.TgZ(46,"td"),t._uU(47,"France"),t.qZA(),t.TgZ(48,"td"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td"),t._uU(52,"Belgique"),t.qZA(),t.TgZ(53,"td"),t._uU(54),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td"),t._uU(57,"RDC"),t.qZA(),t.TgZ(58,"td"),t._uU(59),t.qZA(),t.qZA(),t.TgZ(60,"tr"),t.TgZ(61,"td"),t._uU(62,"GN"),t.qZA(),t.TgZ(63,"td"),t._uU(64),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(65,"div",56)}if(2&o){const e=t.oxw();t.xp6(19),t.Oqu(e.soldes.CM),t.xp6(5),t.Oqu(e.soldes.CI),t.xp6(5),t.Oqu(e.soldes.ML),t.xp6(5),t.Oqu(e.soldes.SN),t.xp6(5),t.Oqu(e.soldes.BJ),t.xp6(5),t.Oqu(e.soldes.TG),t.xp6(5),t.Oqu(e.soldes.FR),t.xp6(5),t.Oqu(e.soldes.BE),t.xp6(5),t.Oqu(e.soldes.RDC),t.xp6(5),t.Oqu(e.soldes.GN)}}S.\u0275fac=function(n){return new(n||S)(t.Y36(q.T),t.Y36(Z),t.Y36(g.F0),t.Y36(d.FF),t.Y36(r.qu),t.Y36(f.sK),t.Y36(b._W),t.Y36(D.f))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-tauxechange"]],decls:30,vars:22,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Code"],["ngx-datatable-cell-template",""],["name","Symbole"],["name","Montant"],["cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentedit",""],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","code","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","symbole","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","montant","id","con-phone","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","montantinter","id","con-phone","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","zone","id","con-country"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[1,"text","text-danger","mt-1"],[3,"value"],["id","index_var","type","hidden","value","5"]],template:function(n,e){if(1&n){const i=t.EpF();t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Taux d'echange"),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(27);return e.openLg(l)}),t._UZ(11,"i",10),t._uU(12,"Ajouter un taux d' echange "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",11),t.TgZ(14,"ngx-datatable",12),t.NdJ("select",function(l){return e.onSelect(l)}),t._UZ(15,"ngx-datatable-column",13),t.TgZ(16,"ngx-datatable-column",14),t.YNc(17,Zt,1,1,"ng-template",15),t.qZA(),t.TgZ(18,"ngx-datatable-column",16),t.YNc(19,ft,1,1,"ng-template",15),t.qZA(),t.TgZ(20,"ngx-datatable-column",17),t.YNc(21,ht,1,1,"ng-template",15),t.qZA(),t.TgZ(22,"ngx-datatable-column",17),t.YNc(23,bt,1,1,"ng-template",15),t.qZA(),t.TgZ(24,"ngx-datatable-column",18),t.YNc(25,Tt,14,0,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,vt,39,4,"ng-template",null,19,t.W1O),t.YNc(28,yt,40,4,"ng-template",null,20,t.W1O)}2&n&&(t.Q6J("title","Taux d'echange")("items",t.DdM(21,wt))("active_item","Taux d'echange"),t.xp6(14),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",e.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),t.xp6(1),t.Q6J("width",20)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),t.xp6(9),t.Q6J("sortable",!1)("width",40))},directives:[T.L,u.nE,u.UC,u.vq,d.jt,d.iD,d.Vi,d.TH,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,_.O5,r.wV,h.w9,_.sg,h.xv],styles:[""]});const Bt=function(){return["Prefinancements","Lists"]};class J{constructor(n,e,i,a,l,s,p){this.router=n,this.modalService=e,this.translateService=i,this.paymentService=a,this.toaster=l,this.fb=s,this.userService=p,this.rows=[],this.selected=[],this.soldes=[],this.form=this.fb.group({type:["",[r.kI.required]],montant:["",r.kI.required],description:["",r.kI.required],statut:["",r.kI.required]})}onSelect({selected:n}){this.selected.splice(0,this.selected.length),this.selected.push(...n)}openLg(n){this.modalService.open(n,{size:"lg"})}ngOnInit(){this.paymentService.GetPrefunds().subscribe(n=>{this.rows=n.data})}onSubmit(){const n={data:{type:this.form.value.type,montant:this.form.value.montant,description:this.form.value.description,statut:this.form.value.statut}};console.log(n)}delete(n){}detail(){}openBalance(n){this.modalService.open(n,{size:"md"})}openBalanceCI(n){this.modalService.open(n,{size:"lg"}),this.paymentService.GetBalancesPAYCI().subscribe(e=>{this.soldes=e.data})}validate(n){this.paymentService.ValidatePrefunds(n.id).subscribe(e=>{this.soldes=e.data})}}J.\u0275fac=function(n){return new(n||J)(t.Y36(g.F0),t.Y36(d.FF),t.Y36(f.sK),t.Y36(Z),t.Y36(b._W),t.Y36(r.qu),t.Y36(D.f))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-prefunding"]],decls:41,vars:24,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"icofont","icofont-tracking"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Numero",3,"width"],["ngx-datatable-cell-template",""],["name","Client",3,"width"],["name","Type"],["name","Montant"],["name","Description"],["name","Status"],["name","Pays"],["cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentbalnce",""],["contentbalncelist",""],["class","badge bg-success rounded-pill me-2",4,"ngIf"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],[1,"badge","bg-success","rounded-pill","me-2"],[1,"badge","bg-primary","rounded-pill","me-2"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-check"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","type","id","con-phone","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["for","con-montant"],["formControlName","montant","id","con-montant","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],["for","con-description"],["formControlName","description","id","con-description","type","number","placeholder","","required","","autocomplete","off",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"table","table-bordered"]],template:function(n,e){if(1&n){const i=t.EpF();t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Prefinancement"),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(36);return e.openLg(l)}),t._UZ(11,"i",10),t._uU(12," Ajouter un prefinancement "),t.qZA(),t.TgZ(13,"button",11),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(38);return e.openBalance(l)}),t._UZ(14,"i",12),t._uU(15," Balance "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",13),t.TgZ(17,"ngx-datatable",14),t.NdJ("select",function(l){return e.onSelect(l)}),t._UZ(18,"ngx-datatable-column",15),t.TgZ(19,"ngx-datatable-column",16),t.YNc(20,Ut,1,1,"ng-template",17),t.qZA(),t.TgZ(21,"ngx-datatable-column",18),t.YNc(22,kt,1,1,"ng-template",17),t.qZA(),t.TgZ(23,"ngx-datatable-column",19),t.YNc(24,Nt,1,1,"ng-template",17),t.qZA(),t.TgZ(25,"ngx-datatable-column",20),t.YNc(26,St,1,1,"ng-template",17),t.qZA(),t.TgZ(27,"ngx-datatable-column",21),t.YNc(28,Jt,1,1,"ng-template",17),t.qZA(),t.TgZ(29,"ngx-datatable-column",22),t.YNc(30,Yt,2,2,"ng-template",17),t.qZA(),t.TgZ(31,"ngx-datatable-column",23),t.YNc(32,Gt,1,1,"ng-template",17),t.qZA(),t.TgZ(33,"ngx-datatable-column",24),t.YNc(34,Qt,14,0,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(35,Et,29,2,"ng-template",null,25,t.W1O),t.YNc(37,It,10,0,"ng-template",null,26,t.W1O),t.YNc(39,Ot,66,10,"ng-template",null,27,t.W1O)}2&n&&(t.Q6J("title","Mes prefinancements")("items",t.DdM(23,Bt))("active_item","Prefinancements"),t.xp6(17),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",e.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),t.xp6(1),t.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),t.xp6(1),t.Q6J("width",100),t.xp6(2),t.Q6J("width",150),t.xp6(12),t.Q6J("sortable",!1)("width",40))},directives:[T.L,u.nE,u.UC,u.vq,_.O5,d.jt,d.iD,d.Vi,d.TH,r._Y,r.JL,r.sg,r.Fj,r.wV,r.JJ,r.u,r.Q7],styles:[""]});class R{constructor(){this.size=0,this.totalElements=0,this.totalPages=0,this.pageNumber=0}}var Ht=m(7593);function Dt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().addtransaction()}),t._UZ(2,"i",35),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"action.add")," "))}function Pt(o,n){if(1&o&&(t.TgZ(0,"div",2),t.TgZ(1,"div",36),t.TgZ(2,"div",37),t.TgZ(3,"div"),t.TgZ(4,"strong"),t._uU(5,"Numero partenaire"),t.qZA(),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",36),t.TgZ(9,"div",37),t.TgZ(10,"div"),t.TgZ(11,"strong"),t._uU(12,"Status"),t.qZA(),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",36),t.TgZ(16,"div",37),t.TgZ(17,"div"),t.TgZ(18,"strong"),t._uU(19,"Agent"),t.qZA(),t.qZA(),t.TgZ(20,"div"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",36),t.TgZ(23,"div",37),t.TgZ(24,"div"),t.TgZ(25,"strong"),t._uU(26,"Type de transaction"),t.qZA(),t.qZA(),t.TgZ(27,"div"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.row;t.xp6(7),t.hij(" ",e.partenairenumber,""),t.xp6(7),t.hij(" ",e.status,""),t.xp6(7),t.hij(" ",e.agent,""),t.xp6(7),t.hij(" ",e.typetransaction,"")}}function jt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",38),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().toggleExpandRow(l)}),t.qZA()}if(2&o){const e=n.expanded;t.ekj("datatable-icon-right",!e)("datatable-icon-down",e)}}function zt(o,n){if(1&o&&(t.TgZ(0,"span",44),t.TgZ(1,"span",45),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function $t(o,n){if(1&o&&(t.TgZ(0,"span",46),t.TgZ(1,"span",45),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function Rt(o,n){if(1&o&&(t.TgZ(0,"span",47),t.TgZ(1,"span",45),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function Lt(o,n){if(1&o&&(t.TgZ(0,"span",48),t.TgZ(1,"span",45),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function Vt(o,n){if(1&o&&(t.TgZ(0,"div",39),t.YNc(1,zt,3,1,"span",40),t.YNc(2,$t,3,1,"span",41),t.YNc(3,Rt,3,1,"span",42),t.YNc(4,Lt,3,1,"span",43),t.qZA()),2&o){const e=n.row;t.xp6(1),t.Q6J("ngIf","en validation"===e.status),t.xp6(1),t.Q6J("ngIf","validation"===e.status),t.xp6(1),t.Q6J("ngIf","effectue"===e.status),t.xp6(1),t.Q6J("ngIf","echoue"===e.status)}}function Kt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.numerotransaction," ")}}function Wt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.customer," ")}}function Xt(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.beneficiare," ")}}function te(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.montanttotal,e.monaire,"",".2-2")," ")}}function ee(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.monaire," ")}}function ne(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.montant,e.monaire,"",".2-2")," ")}}function oe(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.fraisenvoi,e.monaire,"",".2-2")," ")}}function ie(o,n){if(1&o&&(t._uU(0),t.ALo(1,"date")),2&o){const e=n.row;t.hij(" ",t.xi3(1,1,e.datetransaction,"MMM d, y, h:mm a")," ")}}function ae(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().row,l=t.oxw(2),s=t.MAs(42);return l.validation(s,a)}),t.TgZ(1,"div",39),t._UZ(2,"i",59),t.TgZ(3,"span",55),t._uU(4," Validation"),t.qZA(),t.qZA(),t.qZA()}}function re(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",50),t._UZ(1,"button",51),t.TgZ(2,"div",52),t.TgZ(3,"button",53),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw(2).detail(l)}),t.TgZ(4,"div",39),t._UZ(5,"i",54),t.TgZ(6,"span",55),t._uU(7," Detail"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"button",53),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw(2).exportToPDF(l.id)}),t.TgZ(9,"div",39),t._UZ(10,"i",56),t.TgZ(11,"span",55),t._uU(12," Imprimer"),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,ae,5,0,"button",57),t.TgZ(14,"button",53),t.NdJ("click",function(){const l=t.CHM(e).row,s=t.oxw(2),p=t.MAs(44);return s.delete(p,l)}),t.TgZ(15,"div",39),t._UZ(16,"i",58),t.TgZ(17,"span",55),t._uU(18," Suprimer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(13),t.Q6J("jhiHasAnyAuthority","ROLE_ADMIN"))}function le(o,n){1&o&&(t.TgZ(0,"ngx-datatable-column",49),t.YNc(1,re,19,1,"ng-template",20),t.qZA()),2&o&&t.Q6J("sortable",!1)("width",50)}function se(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",60),t.TgZ(1,"h4",61),t._uU(2,"Validation transaction"),t.qZA(),t.TgZ(3,"button",62),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",63),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",64),t.TgZ(7,"div",2),t.TgZ(8,"div",65),t.TgZ(9,"label",66),t._uU(10,"Status de la transaction"),t.qZA(),t.TgZ(11,"select",67),t.NdJ("ngModelChange",function(a){t.CHM(e);return t.oxw().mvalidation=a}),t.TgZ(12,"option",68),t._uU(13,"En cours de validation"),t.qZA(),t.TgZ(14,"option",69),t._uU(15,"Validation"),t.qZA(),t.TgZ(16,"option",70),t._uU(17,"Effectue"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"div",65),t.TgZ(20,"label",71),t._uU(21,"Numero partenaire"),t.qZA(),t.TgZ(22,"input",72),t.NdJ("ngModelChange",function(a){t.CHM(e);return t.oxw().mnumberpartenaire=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",73),t.TgZ(24,"button",74),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(25,"Fermer"),t.qZA(),t.TgZ(26,"button",75),t.NdJ("click",function(){return t.CHM(e),t.oxw().onvalidtransaction()}),t._uU(27,"Changer "),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(11),t.Q6J("ngModel",e.mvalidation),t.xp6(11),t.Q6J("ngModel",e.mnumberpartenaire)}}function ce(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",60),t.TgZ(1,"h4",61),t._uU(2,"Supprimer transaction"),t.qZA(),t.TgZ(3,"button",62),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",63),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",64),t.TgZ(7,"div",2),t.TgZ(8,"div",65),t.TgZ(9,"h4"),t._uU(10,"Voulez vous vraiment supprimer cette transaction?"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",73),t.TgZ(12,"button",74),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(13,"Fermer"),t.qZA(),t.TgZ(14,"button",75),t.NdJ("click",function(){return t.CHM(e),t.oxw().deletetransaction()}),t._uU(15,"Supprimer "),t.qZA(),t.qZA(),t.qZA()}}const de=function(){return["Transactions","Lists"]},ue=function(){return["ROLE_ADMIN","ROLE_SUPER"]};class M{constructor(n,e,i,a,l,s){this.paymentService=n,this.modalService=e,this.translateService=i,this.toaster=a,this.router=l,this.userService=s,this.rows=[],this.temp=[],this.selected=[],this.sizes=[{id:"20",value:20},{id:"50",value:50},{id:"100",value:100},{id:"500",value:500}],this.pglimit=20,this.page=new R,this.loadingIndicator=!0,this.page.pageNumber=0,this.page.size=this.pglimit}onSelect({selected:n}){this.selected.splice(0,this.selected.length),this.selected.push(...n)}ngOnInit(){this.currentuser=JSON.parse(localStorage.getItem("user")),console.log(this.currentuser),this.setPage({offset:0})}addtransaction(){this.router.navigate(["payment/addtransaction-page"])}detail(n){this.router.navigate(["/payment/detailtransaction-page/"+Number(n.numeroidentifiant)])}delete(n,e){this.mtransaction=e.id,this.modalService.open(n,{size:"md"})}toggleExpandRow(n){this.table.rowDetail.toggleExpandRow(n)}onDetailToggle(n){}updateFilter(n){const e=n.target.value.toLowerCase(),i=this.temp.filter(function(a){return-1!==a.numerotransaction.toLowerCase().indexOf(e)||-1!==a.customer.toLowerCase().indexOf(e)||-1!==a.beneficiare.toLowerCase().indexOf(e)||-1!==a.monaire.toLowerCase().indexOf(e)||!e});this.rows=i,this.table.offset=0}onvalidtransaction(){const n={data:{status:this.mvalidation,transaction:this.mtransaction,numeropartenaire:this.mnumberpartenaire}};this.paymentService.updatestatustransfert(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.setPage({offset:0}),this.modalService.dismissAll()},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}validation(n,e){this.mtransaction=e.id,this.mvalidation=e.status,this.modalService.open(n,{size:"md"})}deletetransaction(){this.paymentService.deletetransaction(this.mtransaction).subscribe(n=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll()},n=>{console.log(n),this.toaster.error(this.translateService.instant("internalServerError"),n.message)})}exportToPDF(n){this.paymentService.GetRecu(n).subscribe(e=>{console.log(e.data),window.open(e.data.link,"_blank")},e=>{})}setPage(n){this.page.pageNumber=n.offset,this.paymentService.GetTransactions(this.page.size,this.page.pageNumber).subscribe(e=>{this.page=new R,this.page.pageNumber=n.offset,this.page.totalElements=e.data.total,this.page.size=this.pglimit,this.rows=e.data.results,this.temp=[...e.data.results],console.log(this.rows)})}pageChange(){console.log(this.pglimit),this.page.size=this.pglimit,this.setPage({offset:0,limit:this.pglimit})}}M.\u0275fac=function(n){return new(n||M)(t.Y36(Z),t.Y36(d.FF),t.Y36(f.sK),t.Y36(b._W),t.Y36(g.F0),t.Y36(D.f))},M.\u0275cmp=t.Xpm({type:M,selectors:[["app-transaction"]],viewQuery:function(n,e){if(1&n&&t.Gf(u.nE,5),2&n){let i;t.iGM(i=t.CRH())&&(e.table=i.first)}},decls:45,vars:35,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"mr-2"],["bindValue","value","bindLabel","id","labelForId","id","placeholder","Select size",3,"items","ngModel","selectOnTab","ngModelChange","change"],["type","text","placeholder","Type to filter the all column...",1,"form-control",2,"margin-right","15px","width","50%",3,"keyup"],["class","btn-group",4,"jhiHasAnyAuthority"],[1,"card-body"],[1,"tabl"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","scrollbarH","externalPaging","count","offset","limit","page"],["table",""],[3,"rowHeight","toggle"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Status",3,"width"],["name","N\xb0",3,"width"],["name","Emetteur",3,"width"],["name","Beneficiare",3,"width"],["name","M.Envoy\xe9",3,"width"],["name","Devise",3,"width"],["name","M.Per\xe7u",3,"width"],["name","Frais",3,"width"],["name","Date",3,"width"],["name","Actions","cellClass","allow-overflow",3,"sortable","width",4,"jhiHasAnyAuthority"],["content",""],["contentDelete",""],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"col"],[2,"padding-left","35px"],["href","javascript:void(0)","title","Expand/Collapse Row",3,"click"],[1,"d-flex","align-items-center"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],["class","badge bg-warning rounded-pill me-2",4,"ngIf"],["class","badge bg-success rounded-pill me-2",4,"ngIf"],["class","badge bg-danger rounded-pill me-2",4,"ngIf"],[1,"badge","bg-primary","rounded-pill","me-2"],[1,"text-capitalize"],[1,"badge","bg-warning","rounded-pill","me-2"],[1,"badge","bg-success","rounded-pill","me-2"],[1,"badge","bg-danger","rounded-pill","me-2"],["name","Actions","cellClass","allow-overflow",3,"sortable","width"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-printer"],["ngbDropdownItem","",3,"click",4,"jhiHasAnyAuthority"],[1,"feather","icon-trash"],[1,"feather","icon-check"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","col-sm-12"],["for","amountsend"],["id","amountsend",1,"form-control","digits",3,"ngModel","ngModelChange"],["value","en validation"],["value","validation"],["value","effectue"],["for","con-phone"],["id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"click"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Transactions"),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"ng-select",9),t.NdJ("ngModelChange",function(a){return e.pglimit=a})("change",function(){return e.pageChange()}),t.qZA(),t.qZA(),t.TgZ(11,"input",10),t.NdJ("keyup",function(a){return e.updateFilter(a)}),t.qZA(),t.YNc(12,Dt,5,3,"div",11),t.qZA(),t.qZA(),t.TgZ(13,"div",12),t.TgZ(14,"div",13),t.TgZ(15,"ngx-datatable",14,15),t.NdJ("page",function(a){return e.setPage(a)}),t.TgZ(17,"ngx-datatable-row-detail",16,17),t.NdJ("toggle",function(a){return e.onDetailToggle(a)}),t.YNc(19,Pt,29,4,"ng-template",18),t.qZA(),t.TgZ(20,"ngx-datatable-column",19),t.YNc(21,jt,1,4,"ng-template",20),t.qZA(),t.TgZ(22,"ngx-datatable-column",21),t.YNc(23,Vt,5,4,"ng-template",20),t.qZA(),t.TgZ(24,"ngx-datatable-column",22),t.YNc(25,Kt,1,1,"ng-template",20),t.qZA(),t.TgZ(26,"ngx-datatable-column",23),t.YNc(27,Wt,1,1,"ng-template",20),t.qZA(),t.TgZ(28,"ngx-datatable-column",24),t.YNc(29,Xt,1,1,"ng-template",20),t.qZA(),t.TgZ(30,"ngx-datatable-column",25),t.YNc(31,te,2,6,"ng-template",20),t.qZA(),t.TgZ(32,"ngx-datatable-column",26),t.YNc(33,ee,1,1,"ng-template",20),t.qZA(),t.TgZ(34,"ngx-datatable-column",27),t.YNc(35,ne,2,6,"ng-template",20),t.qZA(),t.TgZ(36,"ngx-datatable-column",28),t.YNc(37,oe,2,6,"ng-template",20),t.qZA(),t.TgZ(38,"ngx-datatable-column",29),t.YNc(39,ie,2,4,"ng-template",20),t.qZA(),t.YNc(40,le,2,2,"ngx-datatable-column",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(41,se,28,2,"ng-template",null,31,t.W1O),t.YNc(43,ce,16,0,"ng-template",null,32,t.W1O)),2&n&&(t.Q6J("title","Transactions")("items",t.DdM(33,de))("active_item","Transactions"),t.xp6(10),t.Q6J("items",e.sizes)("ngModel",e.pglimit)("selectOnTab",!0),t.xp6(2),t.Q6J("jhiHasAnyAuthority","ROLE_ADMIN"),t.xp6(3),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("scrollbarH",!0)("externalPaging",!0)("count",e.page.totalElements)("offset",e.page.pageNumber)("limit",e.page.size),t.xp6(2),t.Q6J("rowHeight",100),t.xp6(3),t.Q6J("width",20)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),t.xp6(2),t.Q6J("width",75),t.xp6(2),t.Q6J("width",80),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",80),t.xp6(2),t.Q6J("jhiHasAnyAuthority",t.DdM(34,ue)))},directives:[T.L,h.w9,r.JJ,r.On,Ht.o,u.nE,u.$7,u.AR,u.UC,u.vq,_.O5,d.jt,d.iD,d.Vi,d.TH,r.EJ,r.YN,r.Kr,r.Fj,r.Q7],pipes:[f.X$,_.H9,_.uU],styles:[""]});var v=m(3501);class F{constructor(){this.autocomplete="off"}disableKeys(n){return document.all,n.keyCode,8===n.keyCode||n.keyCode>=97&&n.keyCode<=122||n.keyCode>=65&&n.keyCode<=90}}F.\u0275fac=function(n){return new(n||F)},F.\u0275dir=t.lG2({type:F,selectors:[["","onlyAlphabets",""]],hostVars:1,hostBindings:function(n,e){1&n&&t.NdJ("keypress",function(a){return e.disableKeys(a)}),2&n&&t.Ikx("autocomplete",e.autocomplete)}});class Y{constructor(){this.autocomplete="off"}disableKeys(n){return document.all,n.keyCode,8==n.keyCode||n.keyCode>=48&&n.keyCode<=57}}function me(o,n){1&o&&(t.TgZ(0,"div",90),t.TgZ(1,"div",91),t._UZ(2,"i",92),t.qZA(),t.TgZ(3,"p",93),t._uU(4,"Identification"),t.qZA(),t.qZA())}function pe(o,n){if(1&o&&(t.TgZ(0,"ng-option",94),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e.firstname," ",e.lastname," ")}}function _e(o,n){1&o&&(t.ynx(0,95),t._uU(1," First Name is required"),t.BQk())}function ge(o,n){1&o&&(t.ynx(0,95),t._uU(1," Last Name is required"),t.BQk())}function Ze(o,n){1&o&&(t.ynx(0,95),t._uU(1," Email is required"),t.BQk())}function fe(o,n){1&o&&(t.ynx(0,95),t._uU(1," Phone is required"),t.BQk())}function he(o,n){1&o&&(t.ynx(0,95),t._uU(1," Nationalit\xe9 is required"),t.BQk())}function be(o,n){1&o&&(t.ynx(0,95),t._uU(1," motif is required"),t.BQk())}function Te(o,n){1&o&&(t.ynx(0,95),t._uU(1," typeidentification is required"),t.BQk())}function Ae(o,n){1&o&&(t.ynx(0,95),t._uU(1," numeropiece is required"),t.BQk())}function qe(o,n){1&o&&(t.ynx(0,95),t._uU(1," expireddatepiece is required"),t.BQk())}function ve(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",96),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),l=t.MAs(258);return a.sendotp(l)}),t._uU(1,"Verifier OTP"),t.qZA()}}function Ce(o,n){if(1&o&&(t.TgZ(0,"button",97),t._uU(1,"Next"),t.qZA()),2&o){const e=t.oxw();t.Q6J("disabled",!e.firstFormGroup.valid)}}function xe(o,n){1&o&&(t.TgZ(0,"div",90),t.TgZ(1,"div",91),t._UZ(2,"i",98),t.qZA(),t.TgZ(3,"p",93),t._uU(4,"Moyen paiement"),t.qZA(),t.qZA())}function ye(o,n){if(1&o&&(t.TgZ(0,"ng-option",94),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e.firstname," ",e.lastname," ")}}function we(o,n){1&o&&(t.ynx(0,95),t._uU(1," Name is required"),t.BQk())}function Ue(o,n){1&o&&(t.ynx(0,95),t._uU(1," Last name is required"),t.BQk())}function ke(o,n){1&o&&(t.ynx(0,95),t._uU(1," Email is required"),t.BQk())}function Ne(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"Email"),t.qZA(),t._UZ(3,"input",99),t.YNc(4,ke,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_email").hasError("required")&&e.secondFormGroup.get("b_email").touched)}}function Se(o,n){1&o&&(t.ynx(0,95),t._uU(1," Phone is required"),t.BQk())}function Je(o,n){1&o&&(t.ynx(0,95),t._uU(1," IBAN is required"),t.BQk())}function Me(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"IBAN"),t.qZA(),t._UZ(3,"input",100),t.YNc(4,Je,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_bankiban").hasError("required")&&e.secondFormGroup.get("b_bankiban").touched)}}function Fe(o,n){1&o&&(t.ynx(0,95),t._uU(1," IFSC is required"),t.BQk())}function Ye(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"IFSC code"),t.qZA(),t._UZ(3,"input",101),t.YNc(4,Fe,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_bankifsccode").hasError("required")&&e.secondFormGroup.get("b_bankifsccode").touched)}}function Ge(o,n){1&o&&(t.ynx(0,95),t._uU(1," SWIFT is required"),t.BQk())}function Qe(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"SWIFT Code"),t.qZA(),t._UZ(3,"input",102),t.YNc(4,Ge,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_bankswiftcode").hasError("required")&&e.secondFormGroup.get("b_bankswiftcode").touched)}}function Ee(o,n){1&o&&(t.ynx(0,95),t._uU(1," Relaction is required"),t.BQk())}function Ie(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"Relaction Beneficiare"),t.qZA(),t._UZ(3,"input",103),t.YNc(4,Ee,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_relaction").hasError("required")&&e.secondFormGroup.get("b_relaction").touched)}}function Oe(o,n){1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"Adresse physique"),t.qZA(),t._UZ(3,"input",104),t.qZA())}function Be(o,n){1&o&&(t.ynx(0,95),t._uU(1," Account number is required"),t.BQk())}function He(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"N\xb0Compte"),t.qZA(),t._UZ(3,"input",105),t.YNc(4,Be,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_bankaccountnumber").hasError("required")&&e.secondFormGroup.get("b_bankaccountnumber").touched)}}function De(o,n){1&o&&(t.ynx(0,95),t._uU(1," Nationalite is required"),t.BQk())}function Pe(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"Nationalite"),t.qZA(),t._UZ(3,"input",106),t.YNc(4,De,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_nationalite").hasError("required")&&e.secondFormGroup.get("b_nationalite").touched)}}function je(o,n){1&o&&(t.ynx(0,95),t._uU(1," Branch number is required"),t.BQk())}function ze(o,n){if(1&o&&(t.TgZ(0,"div",62),t.TgZ(1,"label",19),t._uU(2,"Branch number"),t.qZA(),t._UZ(3,"input",107),t.YNc(4,je,2,0,"ng-container",16),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.secondFormGroup.get("b_bankbranchnumber").hasError("required")&&e.secondFormGroup.get("b_bankbranchnumber").touched)}}function $e(o,n){1&o&&(t.ynx(0,95),t._uU(1," Signature is required"),t.BQk())}function Re(o,n){1&o&&(t.TgZ(0,"div",14),t.TgZ(1,"label",17),t._uU(2,"Type de compte"),t.qZA(),t.TgZ(3,"div",78),t.TgZ(4,"div",28),t._UZ(5,"input",108),t.TgZ(6,"label",109),t._uU(7,"Savings"),t.qZA(),t.qZA(),t.TgZ(8,"div",28),t._UZ(9,"input",110),t.TgZ(10,"label",111),t._uU(11,"Chequer"),t.qZA(),t.qZA(),t.TgZ(12,"div",28),t._UZ(13,"input",112),t.TgZ(14,"label",113),t._uU(15,"Deposit"),t.qZA(),t.qZA(),t.TgZ(16,"div",28),t._UZ(17,"input",114),t.TgZ(18,"label",115),t._uU(19,"Autres"),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Le(o,n){1&o&&(t.TgZ(0,"div",90),t.TgZ(1,"div",91),t._UZ(2,"i",116),t.qZA(),t.TgZ(3,"p",93),t._uU(4,"Send Money"),t.qZA(),t.qZA())}function Ve(o,n){if(1&o&&(t.TgZ(0,"ng-option",94),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function Ke(o,n){1&o&&(t.ynx(0,95),t._uU(1," Country is required"),t.BQk())}function We(o,n){1&o&&(t.ynx(0,95),t._uU(1," Branch is required"),t.BQk())}function Xe(o,n){1&o&&(t.ynx(0,95),t._uU(1," Mode is required"),t.BQk())}function tn(o,n){1&o&&(t.ynx(0,95),t._uU(1," Montant is required"),t.BQk())}function en(o,n){1&o&&(t.ynx(0,95),t._uU(1," Prestation is required"),t.BQk())}function nn(o,n){1&o&&(t.ynx(0,95),t._uU(1," Raison is required"),t.BQk())}function on(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",117),t.TgZ(1,"h4",118),t._uU(2,"Verification identit\xe9"),t.qZA(),t.TgZ(3,"button",119),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",120),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t._UZ(6,"div",121),t.TgZ(7,"div",122),t.TgZ(8,"button",123),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(9,"Fermer"),t.qZA(),t.TgZ(10,"button",124),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmitverify()}),t._uU(11,"Verifier"),t.qZA(),t.qZA()}}function an(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",117),t.TgZ(1,"h4",118),t._uU(2,"Verification OTP"),t.qZA(),t.qZA(),t.TgZ(3,"div",121),t.TgZ(4,"div",8),t.TgZ(5,"label",19),t._uU(6,"Entrer le code reinseignez par le client "),t.qZA(),t.TgZ(7,"input",125),t.NdJ("ngModelChange",function(a){t.CHM(e);return t.oxw().codeOTP=a}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",122),t.TgZ(9,"button",126),t.NdJ("click",function(){return t.CHM(e),t.oxw().reSendOtp()}),t._uU(10,"Resend code"),t.qZA(),t.TgZ(11,"button",123),t.NdJ("click",function(){return t.CHM(e),t.oxw().reloadCurrentPage()}),t._uU(12,"Annuler"),t.qZA(),t.TgZ(13,"button",124),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSubmitOtp()}),t._uU(14,"Verifier"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.codeOTP)}}Y.\u0275fac=function(n){return new(n||Y)},Y.\u0275dir=t.lG2({type:Y,selectors:[["","onlyNumbers",""]],hostVars:1,hostBindings:function(n,e){1&n&&t.NdJ("keypress",function(a){return e.disableKeys(a)}),2&n&&t.Ikx("autocomplete",e.autocomplete)}});const rn=function(){return["Simulation","Nouvelle"]};class G{constructor(n,e,i,a,l,s,p){this.staticservice=n,this.router=e,this._formBuilder=i,this.modalService=a,this.toaster=l,this.paymentService=s,this.translateService=p,this.beneficiares=[],this.otpverify=!1,this.countries=[],this.banktype="bank",this.methodpaiement="cardbank",this.zoneSharedCollection=[],this.countrySharedCollection=[],this.customerverify=!1,this.expediteurs=[],this.mfrais=0,this.mpinInfoBip="",this.iamount=0,this.imageSrc="",this.imageRetroSrc="",this.fileType=" ",this.status=!1,this.currentuser=JSON.parse(localStorage.getItem("user"))}ngOnInit(){console.log(this.otpverify),this.staticservice.GetZones().subscribe(n=>{this.zoneSharedCollection=n.data}),this.paymentService.GetCustomers().subscribe(n=>{this.expediteurs=n.data}),this.staticservice.GetCountries().subscribe(n=>{this.countrySharedCollection=n.data}),this.firstFormGroup=this._formBuilder.group({firstName:["",r.kI.nullValidator],lastName:["",r.kI.nullValidator],email:["",r.kI.nullValidator],phone:["",r.kI.nullValidator],nationalite:["",r.kI.nullValidator],motif:["",r.kI.nullValidator],typeidentification:["",r.kI.nullValidator],numeropiece:["",r.kI.nullValidator],face_image:["",r.kI.nullValidator],retro_image:["",r.kI.nullValidator],expireddatepiece:["",r.kI.nullValidator],imagetype:[]}),this.secondFormGroup=this._formBuilder.group({b_firstName:["",r.kI.nullValidator],b_lastName:["",r.kI.nullValidator],b_email:["",r.kI.nullValidator],b_phone:["",r.kI.nullValidator],b_bankiban:["",r.kI.nullValidator],b_bankifsccode:[],b_bankswiftcode:["",r.kI.nullValidator],b_relaction:["",r.kI.nullValidator],b_bankaccountnumber:["",r.kI.nullValidator],b_nationalite:["",r.kI.nullValidator],b_bankbranchnumber:["",r.kI.nullValidator],b_banksignature:["",r.kI.nullValidator],b_bankadressephysique:["",r.kI.nullValidator],b_banktypecompte:["",r.kI.nullValidator]}),this.thirdFormGroup=this._formBuilder.group({t_country:[null,[r.kI.nullValidator]],t_branche:[null,[r.kI.nullValidator]],t_modetransfert:[null,[r.kI.nullValidator]],t_montant:[null,[r.kI.nullValidator]],t_typeservice:[null,[r.kI.nullValidator]],t_prestateurservice:[null,[r.kI.nullValidator]],t_raisontransaction:[null,[r.kI.required]]})}finish(){let n=null,e=null;n=null==this.mexpediteur?null:this.mexpediteur.id,e=null==this.mbeneficiare?null:this.mbeneficiare.id;const i={data:{firstName:this.firstFormGroup.value.firstName,lastName:this.firstFormGroup.value.lastName,email:this.firstFormGroup.value.email,phone:this.firstFormGroup.value.phone,nationalite:this.firstFormGroup.value.nationalite,motif:this.firstFormGroup.value.motif,typeidentification:this.firstFormGroup.value.typeidentification,numeropiece:this.firstFormGroup.value.numeropiece,customerverify:this.customerverify,face_image:this.imageSrc,retro_image:this.imageRetroSrc,imagetype:this.fileType,expireddatepiece:this.firstFormGroup.value.expireddatepiece,customer:n,beneficiareexist:this.existbeneficiare,b_firstName:this.secondFormGroup.value.b_firstName,b_lastName:this.secondFormGroup.value.b_lastName,b_email:this.secondFormGroup.value.b_email,b_phone:this.secondFormGroup.value.b_phone,b_bankiban:this.secondFormGroup.value.b_bankiban,b_bankifsccode:this.secondFormGroup.value.b_bankifsccode,b_bankswiftcode:this.secondFormGroup.value.b_bankswiftcode,b_relaction:this.secondFormGroup.value.b_relaction,b_bankaccountnumber:this.secondFormGroup.value.b_bankaccountnumber,b_nationalite:this.secondFormGroup.value.b_nationalite,b_bankbranchnumber:this.secondFormGroup.value.b_bankbranchnumber,b_banksignature:this.secondFormGroup.value.b_banksignature,b_bankadressephysique:this.secondFormGroup.value.b_bankadressephysique,b_banktypecompte:this.secondFormGroup.value.b_banktypecompte,beneficiare:e,t_country:this.thirdFormGroup.value.t_country,t_branche:this.thirdFormGroup.value.t_branche,t_modetransfert:this.thirdFormGroup.value.t_modetransfert,t_montant:this.thirdFormGroup.value.t_montant,t_typeservice:this.thirdFormGroup.value.t_typeservice,t_prestateurservice:this.thirdFormGroup.value.t_prestateurservice,t_raisontransaction:this.thirdFormGroup.value.t_raisontransaction,t_typetransaction:this.methodpaiement,t_frais:this.mfrais,t_montanttotal:this.mamountsend,user:this.currentuser.id}};console.log(i),this.paymentService.createtransfert(i).subscribe(a=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK");const l=a.data.numero;this.router.navigate(["/payment/detailtransaction-page/"+Number(l)]),this.exportToPDF(a.data.id)},a=>{console.log(a),this.toaster.error(this.translateService.instant("internalServerError"),a.message)})}verifyExist(n){this.modalService.open(n,{size:"lg"})}chagemethod(){}typeservice(n){console.log(n),this.thirdFormGroup.value.beneficiare_typeservice=n}onSubmitverify(){this.modalService.dismissAll()}changeExpediteur(){console.log(this.mexpediteur),this.mexpediteur?(this.imageSrc=this.mexpediteur.piecefacefile,this.imageRetroSrc=this.mexpediteur.piecerectofile,this.customerverify=!0,this.firstFormGroup.patchValue({firstName:this.mexpediteur.firstname,lastName:this.mexpediteur.lastname,phone:this.mexpediteur.phone,email:this.mexpediteur.email,nationalite:this.mexpediteur.nationalite,motif:this.mexpediteur.motif,numeropiece:this.mexpediteur.numeropiece,typeidentification:this.mexpediteur.typeidentification,expireddatepiece:this.formatDate(this.mexpediteur.expireddatepiece)}),this.paymentService.GetCustomerByUser(this.mexpediteur.id).subscribe(n=>{this.beneficiares=n.data})):(this.customerverify=!1,this.firstFormGroup.patchValue({firstName:"",lastName:"",phone:"",email:"",nationalite:"",motif:"",numeropiece:"",typeidentification:"",expireddatepiece:" "}))}changeBeneficiare(){console.log(this.mbeneficiare),this.mbeneficiare?(this.existbeneficiare=!0,this.secondFormGroup.patchValue({b_firstName:this.mbeneficiare.firstname,b_lastName:this.mbeneficiare.lastname,b_email:this.mbeneficiare.email,b_phone:this.mbeneficiare.phone,b_bankiban:this.mbeneficiare.bankiban,b_bankifsccode:this.mbeneficiare.bankifsccode,b_bankswiftcode:this.mbeneficiare.bankswiftcode,b_relaction:this.mbeneficiare.bankrelaction,b_bankaccountnumber:this.mbeneficiare.bankaccountnumber,b_nationalite:this.mbeneficiare.banknationalite,b_bankbranchnumber:this.mbeneficiare.bankbranchnumber,b_banksignature:this.mbeneficiare.banksignature,b_bankadressephysique:this.mbeneficiare.bankadressephysique,b_banktypecompte:this.mbeneficiare.banktype})):(this.existbeneficiare=!1,this.secondFormGroup.patchValue({b_firstName:"",b_lastName:"",b_email:"",b_phone:"",b_bankiban:"",b_bankifsccode:"",b_bankswiftcode:"",b_relaction:"",b_bankaccountnumber:"",b_nationalite:"",b_bankbranchnumber:"",b_banksignature:"",b_bankadressephysique:"",b_banktypecompte:""}))}formatDate(n){var e=new Date(n),i=""+(e.getMonth()+1),a=""+e.getDate(),l=e.getFullYear();return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),[l,i,a].join("-")}changecountry(){this.paymentService.GetTauxEchangeByCountry(this.thirdFormGroup.value.t_country).subscribe(n=>{this.mtauxxafusd=n.data.taux_xaf_usd,this.mtaux=n.data.tauxcountry,this.mmonaire=n.data.monaire,this.paymentService.GetGrillesByamount(this.thirdFormGroup.value.t_country,this.iamount).subscribe(e=>{0==this.iamount?this.mfrais=0:this.mfrais=e.data.frais})})}changeamount(){const n=this.thirdFormGroup.value.t_montant;this.iamount=n;const e=Number(n)/Number(this.mtauxxafusd);this.mamountotal=Math.round(100*e)/100,this.mamountsend=Math.round(e*this.mtaux*100)/100,this.paymentService.GetGrillesByamount(this.thirdFormGroup.value.t_country,n).subscribe(i=>{this.mfrais=i.data.frais}),console.log(this.mtaux)}onFileSelect(n){this.status=!1;const e=n.target.files[0];if(this.status=n.target.files.length>0,!0===this.status){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.imageSrc=i.result,this.fileType=e.type}}}onFileSelectRetro(n){this.status=!1;const e=n.target.files[0];if(this.status=n.target.files.length>0,!0===this.status){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.imageRetroSrc=i.result,this.fileType=e.type}}}onSubmitOtp(){const n={data:{code:this.codeOTP,phone:this.firstFormGroup.value.phone,pin:this.mpinInfoBip}};this.paymentService.verifieotp(n).subscribe(e=>{"isvalid"===e.data.value?(this.otpverify=!0,this.modalService.dismissAll(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")):this.toaster.error(this.translateService.instant("internalServerError"),e.message)},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}reSendOtp(){this.paymentService.resentotp(this.firstFormGroup.value.phone).subscribe(n=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},n=>{console.log(n),this.toaster.error(this.translateService.instant("internalServerError"),n.message)})}sendotp(n){let e=this.firstFormGroup.value.phone;console.log(e),void 0===e||""==e?this.toaster.error("Veuillez ajouter un numero de t\xe9l\xe8phone","Phone required"):this.paymentService.sentotp(e).subscribe(i=>{this.otpverify=!1,this.mpinInfoBip=i.data.pin,this.modalService.open(n,{size:"lg"})},i=>{console.log(i),this.toaster.error(this.translateService.instant("internalServerError"),i.message)})}exportToPDF(n){this.paymentService.GetRecu(n).subscribe(e=>{console.log(e.data),window.open(e.data.link,"_blank")},e=>{})}reloadCurrentPage(){window.location.reload()}}G.\u0275fac=function(n){return new(n||G)(t.Y36(q.T),t.Y36(g.F0),t.Y36(r.qu),t.Y36(d.FF),t.Y36(b._W),t.Y36(Z),t.Y36(f.sK))},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-add-transaction"]],decls:259,vars:71,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"card"],[1,"card-body"],["navBarLayout","large-filled-symbols"],["awWizardStepSymbol",""],[1,"mt-3","text-center","custom-tilte"],[1,"row"],[1,"form-group","col-md-12"],["for","name"],["id","con-country",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"text-center","mb-3"],[3,"formGroup"],[1,"form-group","col-md-6"],["id","name","type","text","placeholder","Johan","formControlName","firstName","onlyAlphabets","",1,"form-control"],["class","invalid",4,"ngIf"],["for","lname"],["id","lname","type","text","placeholder","Deo","formControlName","lastName","onlyAlphabets","",1,"form-control"],["for","lemail"],["id","lemail","type","email","placeholder","exemple@site.com","formControlName","email",1,"form-control"],[1,"input-group"],["id","lemail","type","text","formControlName","phone",1,"form-control"],[1,"input-group-append"],[1,"btn","btn-primary","input-group-btn",3,"click"],["id","lemail","type","text","formControlName","nationalite",1,"form-control"],["id","lemail","type","text","formControlName","motif",1,"form-control"],[1,"form-group","m-t-15","m-checkbox-inline","mb-0","ml-1"],[1,"radio","radio-primary"],["name","typeidentification","value","carte_electeur","formControlName","typeidentification","id","inline-1","type","radio"],["for","inline-1"],["name","typeidentification","value","passport","formControlName","typeidentification","id","inline-2","type","radio"],["for","inline-2"],["name","typeidentification","value","cni","formControlName","typeidentification","id","inline-3","type","radio"],["for","inline-3"],["name","typeidentification","value","permis_conduire","formControlName","typeidentification","id","inline-3","type","radio"],["formControlName","numeropiece","type","text",1,"form-control"],[1,"btn","btn-secondary","input-group-btn",3,"click"],["id","lemail","type","date","formControlName","expireddatepiece",1,"form-control"],[1,"row","mb-3"],[1,"col-md-6"],["for","con-phone"],[1,"mb-3"],["alt","",1,"img-fluid","w-50","rounded",3,"src"],["accept","image/png, image/jpeg","formControlName","face_image","id","con-phone","type","file","autocomplete","off",1,"form-control",3,"change"],["accept","image/png, image/jpeg","formControlName","retro_image","id","con-phone","type","file","autocomplete","off",1,"form-control",3,"change"],["class","btn btn-danger pull-right","type","button",3,"click",4,"ngIf"],["class","btn btn-primary pull-right","type","button","awNextStep","",3,"disabled",4,"ngIf"],[1,"mt-3","row","text-center"],[1,"col"],[1,"form-group","m-t-15","m-checkbox-inline","mb-0","custom-radio-ml","ml-2"],["id","radioinline1","type","radio","name","radio1","value","cardbank",3,"ngModel","ngModelChange","change"],["for","radioinline1",1,"mb-0"],[1,"digits"],["id","radioinline2","type","radio","name","radio1","value","mobilemoney",3,"ngModel","ngModelChange"],["for","radioinline2",1,"mb-0"],["id","radioinline3","type","radio","name","radio1","value","cashpickup",3,"ngModel","ngModelChange"],["for","radioinline3",1,"mb-0"],[1,"col-sm-12","mb-3"],["for","con-beneficiare",1,""],["id","con-beneficiare",3,"ngModel","change","ngModelChange"],[1,"text-center","custom-tilte"],[1,"form-group","col-md-4"],["id","lemail","type","text","formControlName","b_firstName",1,"form-control"],["id","lemail","type","text","formControlName","b_lastName",1,"form-control"],["class","form-group col-md-4",4,"ngIf"],["id","lemail","type","text","formControlName","b_phone",1,"form-control"],["for","lresau"],["id","lresau","type","text","formControlName","b_banksignature",1,"form-control"],["class","form-group col-md-6",4,"ngIf"],["type","submit","awNextStep","",1,"btn","btn-primary","pull-right",3,"disabled"],["id","prevBtn","type","button","awPreviousStep","",1,"btn","btn-secondary","pull-right","mr-1"],["awEnableBackLinks",""],[1,"col-md-8"],["formControlName","t_country","id","con-country",3,"change"],["id","lname","type","text","placeholder","Branch","formControlName","t_branche","onlyAlphabets","",1,"form-control"],["id","lname","type","text","placeholder","Mode transfert","formControlName","t_modetransfert",1,"form-control"],["id","lname","type","text","placeholder","Montant","formControlName","t_montant","onlyNumbers","",1,"form-control",3,"change"],[1,"form-group","m-t-15","m-checkbox-inline","mb-0","ml-2"],["id","radioinline8","formControlName","t_typeservice","type","radio","name","typeservice","value","mobilemoney"],["for","radioinline8",1,"mb-0"],["id","radioinline6","formControlName","t_typeservice","type","radio","name","typeservice","value","cashpickup"],["for","radioinline6",1,"mb-0"],["id","lname","type","text","placeholder","Deo","formControlName","t_prestateurservice",1,"form-control"],["id","lemail","type","text","formControlName","t_raisontransaction",1,"form-control"],["type","button",1,"btn","btn-success","pull-right",3,"disabled","click"],[1,"col-md-4"],[1,"mt-4","table","table-bordered"],["content",""],["contentOtp",""],[1,"f1-step"],[1,"f1-step-icon"],[1,"fa","fa-flag"],[1,"pwizard"],[3,"value"],[1,"invalid"],["type","button",1,"btn","btn-danger","pull-right",3,"click"],["type","button","awNextStep","",1,"btn","btn-primary","pull-right",3,"disabled"],[1,"fa","fa-credit-card"],["id","lemail","type","text","placeholder","exemple@site.com","formControlName","b_email",1,"form-control"],["id","lemail","type","text","formControlName","b_bankiban",1,"form-control"],["id","lemail","type","text","formControlName","b_bankifsccode",1,"form-control"],["id","lemail","type","text","formControlName","b_bankswiftcode",1,"form-control"],["id","lemail","type","text","formControlName","b_relaction",1,"form-control"],["id","lemail","type","text","formControlName","b_bankadressephysique",1,"form-control"],["id","lemail","type","text","formControlName","b_bankaccountnumber",1,"form-control"],["id","lemail","type","text","formControlName","b_nationalite",1,"form-control"],["id","lemail","type","text","formControlName","b_bankbranchnumber",1,"form-control"],["id","radioinline81","formControlName","b_banktypecompte","type","radio","name","b_banktypecompte","value","savings"],["for","radioinline81",1,"mb-0"],["id","radioinline61","formControlName","b_banktypecompte","type","radio","name","b_banktypecompte","value","chequer"],["for","radioinline61",1,"mb-0"],["id","radioinline63","formControlName","b_banktypecompte","type","radio","name","b_banktypecompte","value","deposit"],["for","radioinline63",1,"mb-0"],["id","radioinline12","formControlName","b_banktypecompte","type","radio","name","b_banktypecompte","value","autres"],["for","radioinline12",1,"mb-0"],[1,"fa","fa-money"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"click"],["id","lemail","type","text","onlyNumbers","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"pull-left","btn","btn-success","mr-1",3,"click"]],template:function(n,e){if(1&n){const i=t.EpF();t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"aw-wizard",4),t.TgZ(5,"aw-wizard-step"),t.YNc(6,me,5,0,"ng-template",5),t.TgZ(7,"h4",6),t._uU(8,"Identification expediteur"),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"div",8),t.TgZ(11,"label",9),t._uU(12,"Expediteur"),t.qZA(),t.TgZ(13,"ng-select",10),t.NdJ("change",function(){return e.changeExpediteur()})("ngModelChange",function(l){return e.mexpediteur=l}),t.YNc(14,pe,2,3,"ng-option",11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"h5",12),t._uU(16,"Or"),t.qZA(),t.TgZ(17,"form",13),t.TgZ(18,"div",7),t.TgZ(19,"div",14),t.TgZ(20,"label",9),t._uU(21,"First Name"),t.qZA(),t._UZ(22,"input",15),t.YNc(23,_e,2,0,"ng-container",16),t.qZA(),t.TgZ(24,"div",14),t.TgZ(25,"label",17),t._uU(26,"Last Name"),t.qZA(),t._UZ(27,"input",18),t.YNc(28,ge,2,0,"ng-container",16),t.qZA(),t.TgZ(29,"div",14),t.TgZ(30,"label",19),t._uU(31,"Email"),t.qZA(),t._UZ(32,"input",20),t.YNc(33,Ze,2,0,"ng-container",16),t.qZA(),t.TgZ(34,"div",14),t.TgZ(35,"label",19),t._uU(36,"Phone"),t.qZA(),t.TgZ(37,"div",21),t._UZ(38,"input",22),t.TgZ(39,"div",23),t.TgZ(40,"button",24),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(258);return e.sendotp(l)}),t._uU(41,"verify OTP"),t.qZA(),t.qZA(),t.qZA(),t.YNc(42,fe,2,0,"ng-container",16),t.qZA(),t.TgZ(43,"div",14),t.TgZ(44,"label",19),t._uU(45,"Nationalit\xe9"),t.qZA(),t._UZ(46,"input",25),t.YNc(47,he,2,0,"ng-container",16),t.qZA(),t.TgZ(48,"div",14),t.TgZ(49,"label",19),t._uU(50,"Motif"),t.qZA(),t._UZ(51,"input",26),t.YNc(52,be,2,0,"ng-container",16),t.qZA(),t.TgZ(53,"div",14),t.TgZ(54,"label",19),t._uU(55,"Type identification"),t.qZA(),t.TgZ(56,"div",27),t.TgZ(57,"div",28),t._UZ(58,"input",29),t.TgZ(59,"label",30),t._uU(60,"Carte d'electeur"),t.qZA(),t.qZA(),t.TgZ(61,"div",28),t._UZ(62,"input",31),t.TgZ(63,"label",32),t._uU(64,"Passport"),t.qZA(),t.qZA(),t.TgZ(65,"div",28),t._UZ(66,"input",33),t.TgZ(67,"label",34),t._uU(68,"Carte d'identit\xe9"),t.qZA(),t.qZA(),t.TgZ(69,"div",28),t._UZ(70,"input",35),t.TgZ(71,"label",34),t._uU(72,"Permis de conduite"),t.qZA(),t.qZA(),t.qZA(),t.YNc(73,Te,2,0,"ng-container",16),t.qZA(),t.TgZ(74,"div",14),t.TgZ(75,"label",19),t._uU(76,"N\xb0Piece "),t.qZA(),t.TgZ(77,"div",21),t._UZ(78,"input",36),t.TgZ(79,"div",23),t.TgZ(80,"button",37),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(256);return e.verifyExist(l)}),t._uU(81,"verify"),t.qZA(),t.qZA(),t.qZA(),t.YNc(82,Ae,2,0,"ng-container",16),t.qZA(),t.TgZ(83,"div",14),t.TgZ(84,"label",19),t._uU(85,"Date d'expiration"),t.qZA(),t._UZ(86,"input",38),t.YNc(87,qe,2,0,"ng-container",16),t.qZA(),t.qZA(),t.TgZ(88,"div",39),t.TgZ(89,"div",40),t.TgZ(90,"label",41),t._uU(91,"Face image "),t.qZA(),t.TgZ(92,"div",42),t._UZ(93,"img",43),t.qZA(),t.TgZ(94,"input",44),t.NdJ("change",function(l){return e.onFileSelect(l)}),t.qZA(),t.qZA(),t.TgZ(95,"div",40),t.TgZ(96,"label",41),t._uU(97,"Retro image "),t.qZA(),t.TgZ(98,"div",42),t._UZ(99,"img",43),t.qZA(),t.TgZ(100,"input",45),t.NdJ("change",function(l){return e.onFileSelectRetro(l)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(101,ve,2,0,"button",46),t.YNc(102,Ce,2,1,"button",47),t.qZA(),t.qZA(),t.TgZ(103,"aw-wizard-step"),t.YNc(104,xe,5,0,"ng-template",5),t.TgZ(105,"div",48),t.TgZ(106,"div",49),t.TgZ(107,"div",50),t.TgZ(108,"div",28),t.TgZ(109,"input",51),t.NdJ("ngModelChange",function(l){return e.methodpaiement=l})("change",function(){return e.chagemethod()}),t.qZA(),t.TgZ(110,"label",52),t._uU(111,"Compte bancaire"),t.TgZ(112,"span",53),t._uU(113," 1"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(114,"div",28),t.TgZ(115,"input",54),t.NdJ("ngModelChange",function(l){return e.methodpaiement=l}),t.qZA(),t.TgZ(116,"label",55),t._uU(117,"Mobile money"),t.TgZ(118,"span",53),t._uU(119," 2"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"div",28),t.TgZ(121,"input",56),t.NdJ("ngModelChange",function(l){return e.methodpaiement=l}),t.qZA(),t.TgZ(122,"label",57),t._uU(123,"Cash pickup"),t.TgZ(124,"span",53),t._uU(125," 3"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(126,"div",58),t.TgZ(127,"label",59),t._uU(128,"Beneficiares"),t.qZA(),t.TgZ(129,"ng-select",60),t.NdJ("change",function(){return e.changeBeneficiare()})("ngModelChange",function(l){return e.mbeneficiare=l}),t.YNc(130,ye,2,3,"ng-option",11),t.qZA(),t.qZA(),t.TgZ(131,"form",13),t.TgZ(132,"h5",61),t._uU(133,"Information Beneficiare"),t.qZA(),t._UZ(134,"hr"),t.TgZ(135,"div",7),t.TgZ(136,"div",62),t.TgZ(137,"label",19),t._uU(138,"First name"),t.qZA(),t._UZ(139,"input",63),t.YNc(140,we,2,0,"ng-container",16),t.qZA(),t.TgZ(141,"div",62),t.TgZ(142,"label",19),t._uU(143,"Last name"),t.qZA(),t._UZ(144,"input",64),t.YNc(145,Ue,2,0,"ng-container",16),t.qZA(),t.YNc(146,Ne,5,1,"div",65),t.TgZ(147,"div",62),t.TgZ(148,"label",19),t._uU(149,"Phone"),t.qZA(),t._UZ(150,"input",66),t.YNc(151,Se,2,0,"ng-container",16),t.qZA(),t.YNc(152,Me,5,1,"div",65),t.YNc(153,Ye,5,1,"div",65),t.YNc(154,Qe,5,1,"div",65),t.YNc(155,Ie,5,1,"div",65),t.YNc(156,Oe,4,0,"div",65),t.YNc(157,He,5,1,"div",65),t.YNc(158,Pe,5,1,"div",65),t.YNc(159,ze,5,1,"div",65),t.TgZ(160,"div",62),t.TgZ(161,"label",67),t._uU(162,"Op\xe9rateur reseau"),t.qZA(),t._UZ(163,"input",68),t.YNc(164,$e,2,0,"ng-container",16),t.qZA(),t.YNc(165,Re,20,0,"div",69),t.qZA(),t.qZA(),t.TgZ(166,"button",70),t._uU(167,"Next"),t.qZA(),t.TgZ(168,"button",71),t._uU(169,"Previous"),t.qZA(),t.qZA(),t.TgZ(170,"aw-wizard-completion-step",72),t.YNc(171,Le,5,0,"ng-template",5),t.TgZ(172,"h4",6),t._uU(173,"Envoyer l'argent"),t.qZA(),t.TgZ(174,"div",7),t.TgZ(175,"div",73),t.TgZ(176,"form",13),t.TgZ(177,"div",7),t.TgZ(178,"div",14),t.TgZ(179,"label",17),t._uU(180,"Country"),t.qZA(),t.TgZ(181,"ng-select",74),t.NdJ("change",function(){return e.changecountry()}),t.YNc(182,Ve,2,2,"ng-option",11),t.qZA(),t.YNc(183,Ke,2,0,"ng-container",16),t.qZA(),t.TgZ(184,"div",14),t.TgZ(185,"label",17),t._uU(186,"Branch"),t.qZA(),t._UZ(187,"input",75),t.YNc(188,We,2,0,"ng-container",16),t.qZA(),t.TgZ(189,"div",14),t.TgZ(190,"label",17),t._uU(191,"Mode de transfert"),t.qZA(),t._UZ(192,"input",76),t.YNc(193,Xe,2,0,"ng-container",16),t.qZA(),t.TgZ(194,"div",14),t.TgZ(195,"label",17),t._uU(196,"Montant d'envoi (FCFA)"),t.qZA(),t.TgZ(197,"input",77),t.NdJ("change",function(){return e.changeamount()}),t.qZA(),t.YNc(198,tn,2,0,"ng-container",16),t.qZA(),t.TgZ(199,"div",14),t.TgZ(200,"label",17),t._uU(201,"Type de service"),t.qZA(),t.TgZ(202,"div",78),t.TgZ(203,"div",28),t._UZ(204,"input",79),t.TgZ(205,"label",80),t._uU(206,"Retrait Mobile money"),t.qZA(),t.qZA(),t.TgZ(207,"div",28),t._UZ(208,"input",81),t.TgZ(209,"label",82),t._uU(210,"Cash pickup"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(211,"div",14),t.TgZ(212,"label",17),t._uU(213,"Prestation"),t.qZA(),t._UZ(214,"input",83),t.YNc(215,en,2,0,"ng-container",16),t.qZA(),t.TgZ(216,"div",14),t.TgZ(217,"label",19),t._uU(218,"Raison "),t.qZA(),t._UZ(219,"input",84),t.YNc(220,nn,2,0,"ng-container",16),t.qZA(),t.qZA(),t.TgZ(221,"button",85),t.NdJ("click",function(){return e.finish()}),t._uU(222,"Finish"),t.qZA(),t.TgZ(223,"button",71),t._uU(224,"Previous"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(225,"div",86),t.TgZ(226,"table",87),t.TgZ(227,"tr"),t.TgZ(228,"th"),t._uU(229,"Taux:"),t.qZA(),t.TgZ(230,"td"),t._uU(231),t.qZA(),t.qZA(),t.TgZ(232,"tr"),t.TgZ(233,"th"),t._uU(234,"Monaire:"),t.qZA(),t.TgZ(235,"td"),t._uU(236),t.qZA(),t.qZA(),t.TgZ(237,"tr"),t.TgZ(238,"th"),t._uU(239,"Montant total(USD):"),t.qZA(),t.TgZ(240,"td"),t._uU(241),t.ALo(242,"currency"),t.qZA(),t.qZA(),t.TgZ(243,"tr"),t.TgZ(244,"th"),t._uU(245,"Frais (FCFA):"),t.qZA(),t.TgZ(246,"td"),t._uU(247),t.ALo(248,"currency"),t.qZA(),t.qZA(),t.TgZ(249,"tr"),t.TgZ(250,"th"),t._uU(251),t.qZA(),t.TgZ(252,"td"),t._uU(253),t.ALo(254,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(255,on,12,0,"ng-template",null,88,t.W1O),t.YNc(257,an,15,1,"ng-template",null,89,t.W1O)}2&n&&(t.Q6J("title","Simulation")("items",t.DdM(70,rn))("active_item","Simulation"),t.xp6(13),t.Q6J("ngModel",e.mexpediteur),t.xp6(1),t.Q6J("ngForOf",e.expediteurs),t.xp6(3),t.Q6J("formGroup",e.firstFormGroup),t.xp6(6),t.Q6J("ngIf",e.firstFormGroup.get("firstName").hasError("required")&&e.firstFormGroup.get("firstName").touched),t.xp6(5),t.Q6J("ngIf",e.firstFormGroup.get("lastName").hasError("required")&&e.firstFormGroup.get("lastName").touched),t.xp6(5),t.Q6J("ngIf",e.firstFormGroup.get("email").hasError("required")&&e.firstFormGroup.get("email").touched),t.xp6(9),t.Q6J("ngIf",e.firstFormGroup.get("phone").hasError("required")&&e.firstFormGroup.get("phone").touched),t.xp6(5),t.Q6J("ngIf",e.firstFormGroup.get("nationalite").hasError("required")&&e.firstFormGroup.get("nationalite").touched),t.xp6(5),t.Q6J("ngIf",e.firstFormGroup.get("motif").hasError("required")&&e.firstFormGroup.get("motif").touched),t.xp6(21),t.Q6J("ngIf",e.firstFormGroup.get("typeidentification").hasError("required")&&e.firstFormGroup.get("typeidentification").touched),t.xp6(9),t.Q6J("ngIf",e.firstFormGroup.get("numeropiece").hasError("required")&&e.firstFormGroup.get("numeropiece").touched),t.xp6(5),t.Q6J("ngIf",e.firstFormGroup.get("expireddatepiece").hasError("required")&&e.firstFormGroup.get("expireddatepiece").touched),t.xp6(6),t.Q6J("src",e.imageSrc,t.LSH),t.xp6(6),t.Q6J("src",e.imageRetroSrc,t.LSH),t.xp6(2),t.Q6J("ngIf",!e.otpverify),t.xp6(1),t.Q6J("ngIf",e.otpverify),t.xp6(7),t.Q6J("ngModel",e.methodpaiement),t.xp6(6),t.Q6J("ngModel",e.methodpaiement),t.xp6(6),t.Q6J("ngModel",e.methodpaiement),t.xp6(8),t.Q6J("ngModel",e.mbeneficiare),t.xp6(1),t.Q6J("ngForOf",e.beneficiares),t.xp6(1),t.Q6J("formGroup",e.secondFormGroup),t.xp6(9),t.Q6J("ngIf",e.secondFormGroup.get("b_firstName").hasError("required")&&e.secondFormGroup.get("b_firstName").touched),t.xp6(5),t.Q6J("ngIf",e.secondFormGroup.get("b_lastName").hasError("required")&&e.secondFormGroup.get("b_lastName").touched),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(5),t.Q6J("ngIf",e.secondFormGroup.get("b_phone").hasError("required")&&e.secondFormGroup.get("b_phone").touched),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(5),t.Q6J("ngIf",e.secondFormGroup.get("b_banksignature").hasError("required")&&e.secondFormGroup.get("b_banksignature").touched),t.xp6(1),t.Q6J("ngIf","cardbank"==e.methodpaiement),t.xp6(1),t.Q6J("disabled",!e.secondFormGroup.valid&&!e.existbeneficiare&&"cardbank"==e.methodpaiement),t.xp6(10),t.Q6J("formGroup",e.thirdFormGroup),t.xp6(6),t.Q6J("ngForOf",e.countrySharedCollection),t.xp6(1),t.Q6J("ngIf",e.thirdFormGroup.get("t_country").hasError("required")&&e.thirdFormGroup.get("t_country").touched),t.xp6(5),t.Q6J("ngIf",e.thirdFormGroup.get("t_branche").hasError("required")&&e.thirdFormGroup.get("t_branche").touched),t.xp6(5),t.Q6J("ngIf",e.thirdFormGroup.get("t_modetransfert").hasError("required")&&e.thirdFormGroup.get("t_modetransfert").touched),t.xp6(5),t.Q6J("ngIf",e.thirdFormGroup.get("t_montant").hasError("required")&&e.thirdFormGroup.get("t_montant").touched),t.xp6(17),t.Q6J("ngIf",e.thirdFormGroup.get("t_prestateurservice").hasError("required")&&e.thirdFormGroup.get("t_prestateurservice").touched),t.xp6(5),t.Q6J("ngIf",e.thirdFormGroup.get("t_raisontransaction").hasError("required")&&e.thirdFormGroup.get("t_raisontransaction").touched),t.xp6(1),t.Q6J("disabled",!e.thirdFormGroup.valid),t.xp6(10),t.Oqu(e.mtaux),t.xp6(5),t.Oqu(e.mmonaire),t.xp6(5),t.hij(" ",t.gM2(242,55,e.mamountotal,"USD","",".2-2")," "),t.xp6(6),t.hij(" ",t.gM2(248,60,e.mfrais,"FCFA","",".2-2")," "),t.xp6(4),t.hij("Montant envoy\xe9 (",e.mmonaire,"):"),t.xp6(2),t.hij(" ",t.gM2(254,65,e.mamountsend,e.mmonaire,"",".2-2")," "))},directives:[T.L,v.Pl,v.GZ,v.O6,h.w9,r.JJ,r.On,_.sg,r._Y,r.JL,r.sg,r.Fj,r.u,F,_.O5,r._,v.j,v.ei,v.t3,v.gG,Y,h.xv],pipes:[_.H9],styles:["aw-wizard-navigation-bar.horizontal[_ngcontent-%COMP%]   ul.steps-indicator.steps-3[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:33.3333333333%;position:relative;float:left;text-align:center}aw-wizard-navigation-bar[_ngcontent-%COMP%]   ul.steps-indicator[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:gray;line-height:14px!important;font-size:14px!important;text-decoration:none!important;text-transform:uppercase!important;font-weight:bold!important;transition:.25s!important}.pwizard[_ngcontent-%COMP%]{width:170px!important;text-transform:uppercase!important;text-align:center!important}"]});const ln=function(){return["Transaction","Detail"]};class Q{constructor(n,e,i,a){this.staticservice=n,this.route=e,this.router=i,this.paymentService=a,this.transaction={}}ngOnInit(){this.transactionid=this.route.snapshot.paramMap.get("id"),console.log(this.transactionid),this.paymentService.GetTransactionone(this.transactionid).subscribe(n=>{this.transaction=n.data},n=>{})}}Q.\u0275fac=function(n){return new(n||Q)(t.Y36(q.T),t.Y36(g.gz),t.Y36(g.F0),t.Y36(Z))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["app-detail-transaction"]],outputs:{transaction:"transaction"},decls:154,vars:53,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table","table-bordered"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Information sur la transaction"),t.qZA(),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"table",8),t.TgZ(10,"tr"),t.TgZ(11,"th"),t._uU(12,"N\xb0 transaction"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.qZA(),t.TgZ(15,"tr"),t.TgZ(16,"th"),t._uU(17,"Type"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"tr"),t.TgZ(21,"th"),t._uU(22,"N\xb0Compte bancaire"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.qZA(),t.TgZ(25,"tr"),t.TgZ(26,"th"),t._uU(27,"Montant"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"currency"),t.qZA(),t.qZA(),t.TgZ(31,"tr"),t.TgZ(32,"th"),t._uU(33,"Frais d'envoi"),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.ALo(36,"currency"),t.qZA(),t.qZA(),t.TgZ(37,"tr"),t.TgZ(38,"th"),t._uU(39,"Pays"),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.qZA(),t.TgZ(42,"tr"),t.TgZ(43,"th"),t._uU(44,"Motif"),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.qZA(),t.qZA(),t.TgZ(47,"tr"),t.TgZ(48,"th"),t._uU(49,"Montant total"),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.ALo(52,"currency"),t.qZA(),t.qZA(),t.TgZ(53,"tr"),t.TgZ(54,"th"),t._uU(55,"Status de la transaction"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.qZA(),t.TgZ(58,"tr"),t.TgZ(59,"th"),t._uU(60,"Effectuer le :"),t.qZA(),t.TgZ(61,"td"),t._uU(62),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",4),t.TgZ(64,"div",5),t.TgZ(65,"h5",6),t._uU(66,"Information paiement"),t.qZA(),t.qZA(),t.TgZ(67,"div",7),t.TgZ(68,"table",8),t.TgZ(69,"tr"),t.TgZ(70,"th"),t._uU(71,"Montant"),t.qZA(),t.TgZ(72,"td"),t._uU(73),t.ALo(74,"currency"),t.qZA(),t.qZA(),t.TgZ(75,"tr"),t.TgZ(76,"th"),t._uU(77,"Monnaire"),t.qZA(),t.TgZ(78,"td"),t._uU(79),t.qZA(),t.qZA(),t.TgZ(80,"tr"),t.TgZ(81,"th"),t._uU(82,"Zone transaction"),t.qZA(),t.TgZ(83,"td"),t._uU(84),t.qZA(),t.qZA(),t.TgZ(85,"tr"),t.TgZ(86,"th"),t._uU(87,"Grille"),t.qZA(),t.TgZ(88,"td"),t._uU(89),t.qZA(),t.qZA(),t.TgZ(90,"tr"),t.TgZ(91,"th"),t._uU(92,"Frais commission"),t.qZA(),t.TgZ(93,"td"),t._uU(94),t.ALo(95,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(96,"div",3),t.TgZ(97,"div",4),t.TgZ(98,"div",5),t.TgZ(99,"h5",6),t._uU(100,"Information du Beneficiare"),t.qZA(),t.qZA(),t.TgZ(101,"div",7),t.TgZ(102,"table",8),t.TgZ(103,"tr"),t.TgZ(104,"th"),t._uU(105,"Nom"),t.qZA(),t.TgZ(106,"td"),t._uU(107),t.qZA(),t.qZA(),t.TgZ(108,"tr"),t.TgZ(109,"th"),t._uU(110,"Prenom"),t.qZA(),t.TgZ(111,"td"),t._uU(112),t.qZA(),t.qZA(),t.TgZ(113,"tr"),t.TgZ(114,"th"),t._uU(115,"Telephone"),t.qZA(),t.TgZ(116,"td"),t._uU(117),t.qZA(),t.qZA(),t.TgZ(118,"tr"),t.TgZ(119,"th"),t._uU(120,"Nom de la banque"),t.qZA(),t.TgZ(121,"td"),t._uU(122),t.qZA(),t.qZA(),t.TgZ(123,"tr"),t.TgZ(124,"th"),t._uU(125,"Code swift"),t.qZA(),t.TgZ(126,"td"),t._uU(127),t.qZA(),t.qZA(),t.TgZ(128,"tr"),t.TgZ(129,"th"),t._uU(130,"Code Iban"),t.qZA(),t.TgZ(131,"td"),t._uU(132),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(133,"div",4),t.TgZ(134,"div",5),t.TgZ(135,"h5",6),t._uU(136,"Information sur l'expediteur"),t.qZA(),t.qZA(),t.TgZ(137,"div",7),t.TgZ(138,"table",8),t.TgZ(139,"tr"),t.TgZ(140,"th"),t._uU(141,"Nom"),t.qZA(),t.TgZ(142,"td"),t._uU(143),t.qZA(),t.qZA(),t.TgZ(144,"tr"),t.TgZ(145,"th"),t._uU(146,"Prenom"),t.qZA(),t.TgZ(147,"td"),t._uU(148),t.qZA(),t.qZA(),t.TgZ(149,"tr"),t.TgZ(150,"th"),t._uU(151,"Telephone"),t.qZA(),t.TgZ(152,"td"),t._uU(153),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("title","Detail transaction")("items",t.DdM(52,ln))("active_item","Detail transaction"),t.xp6(14),t.Oqu(e.transaction.numero),t.xp6(5),t.Oqu(e.transaction.type),t.xp6(5),t.Oqu(e.transaction.numerocompte),t.xp6(5),t.Oqu(t.gM2(30,27,e.transaction.montant,e.transaction.monaire,"",".2-2")),t.xp6(6),t.Oqu(t.gM2(36,32,e.transaction.frais,e.transaction.monaire,"",".2-2")),t.xp6(6),t.Oqu(e.transaction.pays),t.xp6(5),t.Oqu(e.transaction.motif),t.xp6(5),t.Oqu(t.gM2(52,37,e.transaction.montanttotal,e.transaction.monaire,"",".2-2")),t.xp6(6),t.Oqu(e.transaction.status),t.xp6(5),t.Oqu(e.transaction.datetransaction),t.xp6(11),t.Oqu(t.gM2(74,42,e.transaction.montant,e.transaction.monaire,"",".2-2")),t.xp6(6),t.Oqu(e.transaction.monaire),t.xp6(5),t.Oqu(e.transaction.zonetransaction),t.xp6(5),t.Oqu(e.transaction.grille),t.xp6(5),t.Oqu(t.gM2(95,47,e.transaction.frais,e.transaction.monaire,"",".2-2")),t.xp6(13),t.Oqu(e.transaction.b_name),t.xp6(5),t.Oqu(e.transaction.b_lastname),t.xp6(5),t.Oqu(e.transaction.b_phone),t.xp6(5),t.Oqu(e.transaction.b_bankname),t.xp6(5),t.Oqu(e.transaction.b_codeswift),t.xp6(5),t.Oqu(e.transaction.b_codeiban),t.xp6(11),t.Oqu(e.transaction.e_name),t.xp6(5),t.Oqu(e.transaction.e_lastname),t.xp6(5),t.Oqu(e.transaction.e_phone))},directives:[T.L],pipes:[_.H9],styles:[""]});var P=m(6253),C=m(1458),j=m(7736);function sn(o,n){1&o&&(t.TgZ(0,"div",36),t._uU(1," Code is required "),t.qZA())}function cn(o,n){if(1&o&&(t.TgZ(0,"ng-option",37),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}const dn=function(){return["Clients","Edit"]};class E{constructor(n,e,i,a,l,s,p,A){this.staticservice=n,this.toaster=e,this.countryService=i,this.translateService=a,this.route=l,this.fb=s,this.router=p,this.paymentService=A,this.countrySharedCollection=[],this.transaction={},this.customeruser={},this.imageSrc="",this.imageRetroSrc="",this.fileType=" ",this.status=!1,this.form=this.fb.group({firstname:["",[r.kI.required]],lastname:["",[r.kI.required]],nationalite:["",[r.kI.required]],email:["",[r.kI.required]],numeropiece:["",[r.kI.required]],country:["",[r.kI.required]],phone:["",[r.kI.required]],typeidentification:["",[r.kI.required]],motif:["",[r.kI.required]],expireddatepiece:["",[r.kI.required]],face_image:["",[r.kI.required]],retro_image:["",[r.kI.required]],id:[]})}ngOnInit(){this.staticservice.GetCountries().subscribe(n=>{this.countrySharedCollection=n.data}),this.customerid=this.route.snapshot.paramMap.get("id"),console.log(this.customerid),this.paymentService.GetCustomerByID(this.customerid).subscribe(n=>{this.customer=n.data,this.customeruser=n.data;let e="";e=null==this.customer.country?null:this.customer.country.id,this.imageSrc=this.customer.piecefacefile,this.imageRetroSrc=this.customer.piecerectofile,this.form.patchValue({firstname:this.customer.firstname,lastname:this.customer.lastname,nationalite:this.customer.nationalite,email:this.customer.email,numeropiece:this.customer.numeropiece,country:e,phone:this.customer.phone,typeidentification:this.customer.typeidentification,motif:this.customer.motif,expireddatepiece:this.formatDate(this.customer.expireddatepiece),id:this.customerid}),console.log(this.customer)},n=>{})}formatDate(n){var e=new Date(n),i=""+(e.getMonth()+1),a=""+e.getDate(),l=e.getFullYear();return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),[l,i,a].join("-")}onSubmit(){this.form.value.face_image=this.imageSrc,this.form.value.retro_image=this.imageRetroSrc,this.form.value.imagetype=this.fileType;const n={data:this.form.value};console.log(n),this.paymentService.updateCustomer(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}previousState(){window.history.back()}onFileSelect(n){this.status=!1;const e=n.target.files[0];if(this.status=n.target.files.length>0,!0===this.status){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.imageSrc=i.result,this.fileType=e.type}}}onFileSelectRetro(n){this.status=!1;const e=n.target.files[0];if(this.status=n.target.files.length>0,!0===this.status){const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{this.imageRetroSrc=i.result,this.fileType=e.type}}}}function un(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.firstname," ")}}function mn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.phone," ")}}function pn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.email," ")}}function _n(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.bankiban," ")}}function gn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.bankswiftcode," ")}}function Zn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.bankifsccode," ")}}E.\u0275fac=function(n){return new(n||E)(t.Y36(q.T),t.Y36(b._W),t.Y36(j.T),t.Y36(f.sK),t.Y36(g.gz),t.Y36(r.qu),t.Y36(g.F0),t.Y36(Z))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-edit"]],outputs:{transaction:"transaction"},decls:73,vars:11,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","custom-tilte","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"feather","icon-arrow-left"],[1,"card-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","firstname","id","con-firstname","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","lastname","id","con-lastname","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","email","id","con-email","type","email","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","phone","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","typeidentification","id","con-typeidentification","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","numeropiece","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","expireddatepiece","id","con-expireddatepiece","type","date","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","motif","id","con-motif","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","country","id","con-country"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-3"],["alt","",1,"img-fluid","w-50","rounded",3,"src"],["accept","image/png, image/jpeg","formControlName","face_image","id","con-phone","type","file","autocomplete","off",1,"form-control",3,"change"],["accept","image/png, image/jpeg","formControlName","retro_image","id","con-phone","type","file","autocomplete","off",1,"form-control",3,"change"],["type","button",1,"btn","btn-primary","mr-1","pull-right",3,"click"],["id","prevBtn","type","button",1,"btn","btn-secondary","pull-right","mr-1"],[1,"text","text-danger","mt-1"],[3,"value"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){return e.previousState()}),t._UZ(11,"i",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",11),t.TgZ(13,"form",12),t.TgZ(14,"div",13),t.TgZ(15,"div",14),t.TgZ(16,"div",2),t.TgZ(17,"div",15),t.TgZ(18,"label",16),t._uU(19,"Firstname"),t.qZA(),t._UZ(20,"input",17),t.YNc(21,sn,2,0,"div",18),t.qZA(),t.TgZ(22,"div",15),t.TgZ(23,"label",16),t._uU(24,"lastname"),t.qZA(),t._UZ(25,"input",19),t.qZA(),t.qZA(),t.TgZ(26,"div",2),t.TgZ(27,"div",15),t.TgZ(28,"label",16),t._uU(29,"email "),t.qZA(),t._UZ(30,"input",20),t.qZA(),t.TgZ(31,"div",15),t.TgZ(32,"label",16),t._uU(33,"phone"),t.qZA(),t._UZ(34,"input",21),t.qZA(),t.TgZ(35,"div",15),t.TgZ(36,"label",16),t._uU(37,"typeidentification"),t.qZA(),t._UZ(38,"input",22),t.qZA(),t.TgZ(39,"div",15),t.TgZ(40,"label",16),t._uU(41,"numeropiece"),t.qZA(),t._UZ(42,"input",23),t.qZA(),t.TgZ(43,"div",15),t.TgZ(44,"label",16),t._uU(45,"expireddatepiece"),t.qZA(),t._UZ(46,"input",24),t.qZA(),t.TgZ(47,"div",15),t.TgZ(48,"label",16),t._uU(49,"motif"),t.qZA(),t._UZ(50,"input",25),t.qZA(),t.TgZ(51,"div",15),t.TgZ(52,"label",16),t._uU(53,"Pays"),t.qZA(),t.TgZ(54,"ng-select",26),t.YNc(55,cn,2,2,"ng-option",27),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",28),t.TgZ(57,"div",29),t.TgZ(58,"label",16),t._uU(59,"Face image "),t.qZA(),t.TgZ(60,"div",30),t._UZ(61,"img",31),t.qZA(),t.TgZ(62,"input",32),t.NdJ("change",function(a){return e.onFileSelect(a)}),t.qZA(),t.qZA(),t.TgZ(63,"div",29),t.TgZ(64,"label",16),t._uU(65,"Retro image "),t.qZA(),t.TgZ(66,"div",30),t._UZ(67,"img",31),t.qZA(),t.TgZ(68,"input",33),t.NdJ("change",function(a){return e.onFileSelectRetro(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(69,"button",34),t.NdJ("click",function(){return e.onSubmit()}),t._uU(70,"Save"),t.qZA(),t.TgZ(71,"button",35),t._uU(72,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("title","Clients")("items",t.DdM(10,dn))("active_item","Edit"),t.xp6(7),t.AsE("Modifier le client ",e.customeruser.firstname," ",e.customeruser.lastname,""),t.xp6(6),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.firstname.touched&&(null==e.form.controls.firstname.errors?null:e.form.controls.firstname.errors.firstname)),t.xp6(34),t.Q6J("ngForOf",e.countrySharedCollection),t.xp6(6),t.Q6J("src",e.imageSrc,t.LSH),t.xp6(6),t.Q6J("src",e.imageRetroSrc,t.LSH))},directives:[T.L,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,_.O5,h.w9,_.sg,h.xv],styles:[""]});const fn=function(){return["Clients","Beneficiare"]};class I{constructor(n,e,i,a,l,s,p,A){this.staticservice=n,this.toaster=e,this.countryService=i,this.translateService=a,this.route=l,this.fb=s,this.router=p,this.paymentService=A,this.rows=[],this.customer={}}ngOnInit(){this.customerid=this.route.snapshot.paramMap.get("id"),console.log(this.customerid),this.paymentService.GetCustomerByID(this.customerid).subscribe(n=>{this.customer=n.data},n=>{}),this.paymentService.GetCustomerByUser(this.customerid).subscribe(n=>{this.rows=n.data},n=>{})}previousState(){window.history.back()}}I.\u0275fac=function(n){return new(n||I)(t.Y36(q.T),t.Y36(b._W),t.Y36(j.T),t.Y36(f.sK),t.Y36(g.gz),t.Y36(r.qu),t.Y36(g.F0),t.Y36(Z))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-beneficiare"]],viewQuery:function(n,e){if(1&n&&t.Gf(u.nE,5),2&n){let i;t.iGM(i=t.CRH())&&(e.table=i.first)}},decls:26,vars:12,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","custom-tilte","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"feather","icon-arrow-left"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit"],["name","Name"],["ngx-datatable-cell-template",""],["name","phone"],["name","email"],["name","bankiban"],["name","bankswiftcode"],["name","bankifsccode"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){return e.previousState()}),t._UZ(11,"i",10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",11),t.TgZ(13,"ngx-datatable",12),t.TgZ(14,"ngx-datatable-column",13),t.YNc(15,un,1,1,"ng-template",14),t.qZA(),t.TgZ(16,"ngx-datatable-column",15),t.YNc(17,mn,1,1,"ng-template",14),t.qZA(),t.TgZ(18,"ngx-datatable-column",16),t.YNc(19,pn,1,1,"ng-template",14),t.qZA(),t.TgZ(20,"ngx-datatable-column",17),t.YNc(21,_n,1,1,"ng-template",14),t.qZA(),t.TgZ(22,"ngx-datatable-column",18),t.YNc(23,gn,1,1,"ng-template",14),t.qZA(),t.TgZ(24,"ngx-datatable-column",19),t.YNc(25,Zn,1,1,"ng-template",14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("title","Clients")("items",t.DdM(11,fn))("active_item","Beneficiare"),t.xp6(7),t.AsE("Beneficiares du client: ",e.customer.firstname," ",e.customer.lastname,""),t.xp6(6),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5))},directives:[T.L,u.nE,u.UC,u.vq],styles:[""]});const hn=function(){return["Clients","Beneficiare","Edit"]};class O{constructor(){}ngOnInit(){}previousState(){window.history.back()}}function bn(o,n){if(1&o&&(t.TgZ(0,"div",2),t.TgZ(1,"div",29),t.TgZ(2,"div",30),t.TgZ(3,"div"),t.TgZ(4,"strong"),t._uU(5,"Pays"),t.qZA(),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",29),t.TgZ(9,"div",30),t.TgZ(10,"div"),t.TgZ(11,"strong"),t._uU(12,"Status"),t.qZA(),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",29),t.TgZ(16,"div",30),t.TgZ(17,"div"),t.TgZ(18,"strong"),t._uU(19,"Agent"),t.qZA(),t.qZA(),t.TgZ(20,"div"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",29),t.TgZ(23,"div",30),t.TgZ(24,"div"),t.TgZ(25,"strong"),t._uU(26,"Type de transaction"),t.qZA(),t.qZA(),t.TgZ(27,"div"),t._uU(28),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.row;t.xp6(7),t.hij(" ",e.country,""),t.xp6(7),t.hij(" ",e.status,""),t.xp6(7),t.hij(" ",e.agent,""),t.xp6(7),t.hij(" ",e.typetransaction,"")}}function Tn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().toggleExpandRow(l)}),t.qZA()}if(2&o){const e=n.expanded;t.ekj("datatable-icon-right",!e)("datatable-icon-down",e)}}function An(o,n){if(1&o&&(t.TgZ(0,"span",37),t.TgZ(1,"span",38),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function qn(o,n){if(1&o&&(t.TgZ(0,"span",39),t.TgZ(1,"span",38),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function vn(o,n){if(1&o&&(t.TgZ(0,"span",40),t.TgZ(1,"span",38),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function Cn(o,n){if(1&o&&(t.TgZ(0,"span",41),t.TgZ(1,"span",38),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().row;t.xp6(2),t.Oqu(e.status)}}function xn(o,n){if(1&o&&(t.TgZ(0,"div",32),t.YNc(1,An,3,1,"span",33),t.YNc(2,qn,3,1,"span",34),t.YNc(3,vn,3,1,"span",35),t.YNc(4,Cn,3,1,"span",36),t.qZA()),2&o){const e=n.row;t.xp6(1),t.Q6J("ngIf","en validation"===e.status),t.xp6(1),t.Q6J("ngIf","validation"===e.status),t.xp6(1),t.Q6J("ngIf","effectue"===e.status),t.xp6(1),t.Q6J("ngIf","echoue"===e.status)}}function yn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.numerotransaction," ")}}function wn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.customer," ")}}function Un(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.beneficiare," ")}}function kn(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.montanttotal,e.monaire,"",".2-2")," ")}}function Nn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.monaire," ")}}function Sn(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.montant,e.monaire,"",".2-2")," ")}}function Jn(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.gM2(1,1,e.fraisenvoi,e.monaire,"",".2-2")," ")}}function Mn(o,n){if(1&o&&(t._uU(0),t.ALo(1,"date")),2&o){const e=n.row;t.hij(" ",t.xi3(1,1,e.datetransaction,"MMM d, y, h:mm a")," ")}}function Fn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",42),t.TgZ(1,"button",43),t._UZ(2,"i",44),t.qZA(),t.TgZ(3,"div",45),t.TgZ(4,"button",46),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().detail(l)}),t.TgZ(5,"div",32),t._UZ(6,"i",47),t.TgZ(7,"span",48),t._uU(8,"Editer"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"button",46),t.NdJ("click",function(){const l=t.CHM(e).row;return t.oxw().delete(l)}),t.TgZ(10,"div",32),t._UZ(11,"i",49),t.TgZ(12,"span",48),t._uU(13,"Suprimer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}O.\u0275fac=function(n){return new(n||O)},O.\u0275cmp=t.Xpm({type:O,selectors:[["app-edit-beneficiare"]],decls:11,vars:4,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","custom-tilte","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],[1,"card-body","custom-datatable"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Modifier un beneficiare"),t.qZA(),t.TgZ(8,"div",7),t._UZ(9,"div",8),t.qZA(),t.qZA(),t._UZ(10,"div",9),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&t.Q6J("title","Clients")("items",t.DdM(3,hn))("active_item","Edit")},directives:[T.L],styles:[""]});const Yn=function(){return["Clients","Transactions"]};class B{constructor(n,e,i,a,l,s,p,A){this.staticservice=n,this.toaster=e,this.countryService=i,this.translateService=a,this.route=l,this.fb=s,this.router=p,this.paymentService=A,this.rows=[],this.customer={}}ngOnInit(){this.customerid=this.route.snapshot.paramMap.get("id"),console.log(this.customerid),this.paymentService.GetCustomerByID(this.customerid).subscribe(n=>{this.customer=n.data},n=>{}),this.paymentService.GetCustomerTransactions(this.customerid).subscribe(n=>{this.rows=n.data},n=>{})}toggleExpandRow(n){this.table.rowDetail.toggleExpandRow(n)}detail(n){this.router.navigate(["/payment/detailtransaction-page/"+Number(n.numeroidentifiant)])}onDetailToggle(n){}previousState(){window.history.back()}}function Gn(o,n){if(1&o&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function Qn(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.customer," ")}}function En(o,n){if(1&o&&t._uU(0),2&o){const e=n.row;t.hij(" ",e.country," ")}}function In(o,n){if(1&o&&(t._uU(0),t.ALo(1,"currency")),2&o){const e=n.row;t.hij(" ",t.xi3(1,1,e.solde,"XAF")," ")}}function On(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",24),t.TgZ(1,"button",25),t._UZ(2,"i",26),t.qZA(),t.TgZ(3,"div",27),t.TgZ(4,"button",28),t.NdJ("click",function(){const l=t.CHM(e).row,s=t.oxw(),p=t.MAs(31);return s.transfer(p,l)}),t.TgZ(5,"div",29),t._UZ(6,"i",30),t.TgZ(7,"span",31),t._uU(8,"Transferer"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function Bn(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.country),t.xp6(2),t.Oqu(t.xi3(5,2,e.solde,"XAF"))}}function Hn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"h4",33),t._uU(2,"Details des balancess"),t.qZA(),t.TgZ(3,"button",34),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",35),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",36),t.TgZ(7,"table",37),t.TgZ(8,"thead"),t.TgZ(9,"tr"),t.TgZ(10,"th"),t._uU(11,"Pays"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Solde"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,Bn,6,5,"tr",38),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.balances)}}function Dn(o,n){if(1&o&&(t.TgZ(0,"ng-option",23),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.libelle," ")}}function Pn(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"h4",33),t._uU(2,"Transferer les fonds"),t.qZA(),t.TgZ(3,"button",34),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t.TgZ(4,"span",35),t._uU(5,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",36),t.TgZ(7,"div",39),t.TgZ(8,"div",40),t.TgZ(9,"div",2),t.TgZ(10,"div",41),t.TgZ(11,"label",42),t._uU(12,"Pays destinataire"),t.qZA(),t.TgZ(13,"ng-select",9),t.NdJ("change",function(){return t.CHM(e),t.oxw().changecountry()})("ngModelChange",function(a){t.CHM(e);return t.oxw().countryDestainataire=a}),t.YNc(14,Dn,2,2,"ng-option",10),t.qZA(),t.qZA(),t.TgZ(15,"div",41),t.TgZ(16,"label",43),t._uU(17,"Montant"),t.qZA(),t.TgZ(18,"input",44),t.NdJ("ngModelChange",function(a){t.CHM(e);return t.oxw().montantSend=a}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",45),t.TgZ(20,"button",46),t.NdJ("click",function(){return t.CHM(e).$implicit.close("Close click")}),t._uU(21,"Close"),t.qZA(),t.TgZ(22,"button",47),t.NdJ("click",function(){return t.CHM(e),t.oxw().onTransfert()}),t._uU(23,"Envoyer"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(13),t.Q6J("ngModel",e.countryDestainataire),t.xp6(1),t.Q6J("ngForOf",e.countrySharedCollection),t.xp6(4),t.Q6J("ngModel",e.montantSend)}}B.\u0275fac=function(n){return new(n||B)(t.Y36(q.T),t.Y36(b._W),t.Y36(j.T),t.Y36(f.sK),t.Y36(g.gz),t.Y36(r.qu),t.Y36(g.F0),t.Y36(Z))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-owntransaction"]],viewQuery:function(n,e){if(1&n&&t.Gf(u.nE,5),2&n){let i;t.iGM(i=t.CRH())&&(e.table=i.first)}},decls:40,vars:29,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","custom-tilte","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"feather","icon-arrow-left"],[1,"card-body","custom-datatable"],[1,"bootstrap",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","scrollbarH"],["table",""],[3,"rowHeight","toggle"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Status",3,"width"],["name","N\xb0",3,"width"],["name","Emetteur",3,"width"],["name","Beneficiare",3,"width"],["name","M.Envoy\xe9",3,"width"],["name","Devise",3,"width"],["name","M.Per\xe7u",3,"width"],["name","Frais",3,"width"],["name","Date",3,"width"],["cellClass","allow-overflow",3,"sortable","width"],[1,"col"],[2,"padding-left","35px"],["href","javascript:void(0)","title","Expand/Collapse Row",3,"click"],[1,"d-flex","align-items-center"],["class","badge bg-primary rounded-pill me-2",4,"ngIf"],["class","badge bg-warning rounded-pill me-2",4,"ngIf"],["class","badge bg-success rounded-pill me-2",4,"ngIf"],["class","badge bg-danger rounded-pill me-2",4,"ngIf"],[1,"badge","bg-primary","rounded-pill","me-2"],[1,"text-capitalize"],[1,"badge","bg-warning","rounded-pill","me-2"],[1,"badge","bg-success","rounded-pill","me-2"],[1,"badge","bg-danger","rounded-pill","me-2"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"]],template:function(n,e){1&n&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7),t.TgZ(9,"div",8),t.TgZ(10,"button",9),t.NdJ("click",function(){return e.previousState()}),t._UZ(11,"i",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",11),t.TgZ(13,"ngx-datatable",12,13),t.TgZ(15,"ngx-datatable-row-detail",14,15),t.NdJ("toggle",function(a){return e.onDetailToggle(a)}),t.YNc(17,bn,29,4,"ng-template",16),t.qZA(),t.TgZ(18,"ngx-datatable-column",17),t.YNc(19,Tn,1,4,"ng-template",18),t.qZA(),t.TgZ(20,"ngx-datatable-column",19),t.YNc(21,xn,5,4,"ng-template",18),t.qZA(),t.TgZ(22,"ngx-datatable-column",20),t.YNc(23,yn,1,1,"ng-template",18),t.qZA(),t.TgZ(24,"ngx-datatable-column",21),t.YNc(25,wn,1,1,"ng-template",18),t.qZA(),t.TgZ(26,"ngx-datatable-column",22),t.YNc(27,Un,1,1,"ng-template",18),t.qZA(),t.TgZ(28,"ngx-datatable-column",23),t.YNc(29,kn,2,6,"ng-template",18),t.qZA(),t.TgZ(30,"ngx-datatable-column",24),t.YNc(31,Nn,1,1,"ng-template",18),t.qZA(),t.TgZ(32,"ngx-datatable-column",25),t.YNc(33,Sn,2,6,"ng-template",18),t.qZA(),t.TgZ(34,"ngx-datatable-column",26),t.YNc(35,Jn,2,6,"ng-template",18),t.qZA(),t.TgZ(36,"ngx-datatable-column",27),t.YNc(37,Mn,2,4,"ng-template",18),t.qZA(),t.TgZ(38,"ngx-datatable-column",28),t.YNc(39,Fn,14,0,"ng-template",18),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("title","Clients")("items",t.DdM(28,Yn))("active_item","Transactions"),t.xp6(7),t.AsE("Transactions du client ",e.customer.firstname," ",e.customer.lastname,""),t.xp6(6),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("scrollbarH",!0),t.xp6(2),t.Q6J("rowHeight",100),t.xp6(3),t.Q6J("width",20)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),t.xp6(2),t.Q6J("width",75),t.xp6(2),t.Q6J("width",80),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("width",100),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",50),t.xp6(2),t.Q6J("width",80),t.xp6(2),t.Q6J("sortable",!1)("width",40))},directives:[T.L,u.nE,u.$7,u.AR,u.UC,u.vq,_.O5,d.jt,d.iD,d.Vi,d.TH],pipes:[_.H9,_.uU],styles:[""]});const jn=function(){return["Balances","Lists"]};class H{constructor(n,e,i,a,l,s){this.router=n,this.modalService=e,this.translateService=i,this.paymentService=a,this.staticService=l,this.toaster=s,this.countrySharedCollection=[]}ngOnInit(){this.staticService.GetCountries().subscribe(n=>{this.countrySharedCollection=n.data,this.paymentService.GetBalanceCountry(this.country).subscribe(e=>{this.rows=e.data})})}transfer(n,e){this.modalService.open(n,{size:"lg"}),this.countryInit=e.country_id,this.customerSend=e.customer_id}openBalance(n){this.modalService.open(n,{size:"lg"}),this.paymentService.GetBalance().subscribe(e=>{this.balances=e.data})}changecountry(){this.paymentService.GetBalanceCountry(this.country).subscribe(n=>{this.rows=n.data})}onTransfert(){const n={data:{customer:this.customerSend,country_init:this.countryInit,countr_final:this.countryDestainataire,montantint:this.montantSend}};console.log(n),this.paymentService.transfertbalance(n).subscribe(e=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.paymentService.GetBalanceCountry(this.country).subscribe(i=>{this.rows=i.data})},e=>{console.log(e),this.toaster.error(this.translateService.instant("internalServerError"),e.message)})}}H.\u0275fac=function(n){return new(n||H)(t.Y36(g.F0),t.Y36(d.FF),t.Y36(f.sK),t.Y36(Z),t.Y36(q.T),t.Y36(b._W))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-balance"]],decls:32,vars:15,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"col-md-9"],["for","con_country"],["id","con_country",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","button",1,"btn","btn-primary","btn-sm","mt-3",3,"click"],[1,"icofont","icofont-tracking"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit"],["name","Customer",3,"width"],["ngx-datatable-cell-template",""],["name","Pays"],["name","Solde"],["cellClass","allow-overflow",3,"sortable","width"],["contentbalnce",""],["contentTransfert",""],[3,"value"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-move"],[1,"ms-2"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table"],[4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["for","con-montant"],["id","con-montant","type","number","placeholder","","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"click"]],template:function(n,e){if(1&n){const i=t.EpF();t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h5",6),t._uU(7,"Balance"),t.qZA(),t.TgZ(8,"div",2),t.TgZ(9,"div",7),t.TgZ(10,"label",8),t._uU(11,"Pays"),t.qZA(),t.TgZ(12,"ng-select",9),t.NdJ("change",function(){return e.changecountry()})("ngModelChange",function(l){return e.country=l}),t.YNc(13,Gn,2,2,"ng-option",10),t.qZA(),t.qZA(),t.TgZ(14,"div",11),t.TgZ(15,"button",12),t.NdJ("click",function(){t.CHM(i);const l=t.MAs(29);return e.openBalance(l)}),t._UZ(16,"i",13),t._uU(17,"Balance global"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",14),t.TgZ(19,"ngx-datatable",15),t.TgZ(20,"ngx-datatable-column",16),t.YNc(21,Qn,1,1,"ng-template",17),t.qZA(),t.TgZ(22,"ngx-datatable-column",18),t.YNc(23,En,1,1,"ng-template",17),t.qZA(),t.TgZ(24,"ngx-datatable-column",19),t.YNc(25,In,2,4,"ng-template",17),t.qZA(),t.TgZ(26,"ngx-datatable-column",20),t.YNc(27,On,9,0,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(28,Hn,16,1,"ng-template",null,21,t.W1O),t.YNc(30,Pn,24,3,"ng-template",null,22,t.W1O)}2&n&&(t.Q6J("title","Balances")("items",t.DdM(14,jn))("active_item","Balances"),t.xp6(12),t.Q6J("ngModel",e.country),t.xp6(1),t.Q6J("ngForOf",e.countrySharedCollection),t.xp6(6),t.Q6J("rows",e.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5),t.xp6(1),t.Q6J("width",200),t.xp6(6),t.Q6J("sortable",!1)("width",40))},directives:[T.L,h.w9,r.JJ,r.On,_.sg,u.nE,u.UC,u.vq,h.xv,d.jt,d.iD,d.Vi,d.TH,r.wV,r.Fj,r.Q7],pipes:[_.H9],styles:[""]});const zn=[{path:"",children:[{path:"sendmoney-page",canActivate:[P.t],data:{role:[C.u.Admin,C.u.Superviseur]},component:U},{path:"addtransaction-page",component:G},{path:"balance-page",component:H},{path:"detailtransaction-page/:id",component:Q},{path:"customeredit-page/:id",component:E},{path:"customerbeneficiare-page/:id",component:I},{path:"customeredibeneficiare-page/:id",component:O},{path:"customertransaction-page/:id",component:B},{path:"customer-page",component:k},{path:"grilletarifaire-page",canActivate:[P.t],data:{role:[C.u.Admin,C.u.Superviseur]},component:N},{path:"tauxechange-page",canActivate:[P.t],data:{role:[C.u.Admin,C.u.Superviseur]},component:S},{path:"prefunding-page",canActivate:[P.t],data:{role:[C.u.Admin,C.u.Superviseur]},component:J},{path:"transaction-page",component:M}]}];class x{}x.\u0275fac=function(n){return new(n||x)},x.\u0275mod=t.oAB({type:x}),x.\u0275inj=t.cJS({imports:[[g.Bz.forChild(zn)],g.Bz]});var $n=m(1062),Rn=m(1382);class y{}y.\u0275fac=function(n){return new(n||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({providers:[{provide:t.soG,useValue:"fr"}],imports:[[_.ez,Rn.m,v.O,h.A0,u.xD,$n.k,x]]})}}]);