(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[656],{2473:function(H,E){var u,b,h;b=[],u=function(){"use strict";function l(s,c){return void 0===c?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}function e(s,c,g){var d=new XMLHttpRequest;d.open("GET",s),d.responseType="blob",d.onload=function(){v(d.response,c,g)},d.onerror=function(){console.error("could not download file")},d.send()}function A(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch(g){}return 200<=c.status&&299>=c.status}function m(s){try{s.dispatchEvent(new MouseEvent("click"))}catch(g){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),v=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(s,c,g){var d=_.URL||_.webkitURL,Z=document.createElement("a");c=c||s.name||"download",Z.download=c,Z.rel="noopener","string"==typeof s?(Z.href=s,Z.origin===location.origin?m(Z):A(Z.href)?e(s,c,g):m(Z,Z.target="_blank")):(Z.href=d.createObjectURL(s),setTimeout(function(){d.revokeObjectURL(Z.href)},4e4),setTimeout(function(){m(Z)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,g){if(c=c||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(l(s,g),c);else if(A(s))e(s,c,g);else{var d=document.createElement("a");d.href=s,d.target="_blank",setTimeout(function(){m(d)})}}:function(s,c,g,d){if((d=d||open("","_blank"))&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof s)return e(s,c,g);var Z="application/octet-stream"===s.type,O=/constructor/i.test(_.HTMLElement)||_.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||Z&&O||T)&&"undefined"!=typeof FileReader){var y=new FileReader;y.onloadend=function(){var C=y.result;C=Y?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=C:location=C,d=null},y.readAsDataURL(s)}else{var F=_.URL||_.webkitURL,U=F.createObjectURL(s);d?d.location=U:location.href=U,d=null,setTimeout(function(){F.revokeObjectURL(U)},4e4)}});_.saveAs=v.saveAs=v,H.exports=v},void 0!==(h="function"==typeof u?u.apply(E,b):u)&&(H.exports=h)},3656:(H,E,u)=>{"use strict";u.r(E),u.d(E,{StaticModule:()=>w});var b=u(6019),h=u(9861),l=u(9133),e=u(4090),A=u(4292),m=u(2745),_=u(8390),T=u(3392),v=u(8945),s=u(1630),c=u(1408),g=u(345);function d(n,o){if(1&n&&e._UZ(0,"img",23),2&n){const t=o.row;e.Q6J("src",t.flag,e.LSH)}}function Z(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.code," ")}}function O(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.libelle," ")}}function Y(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.monaire," ")}}function y(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.payerCode," ")}}function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"button",25),e._UZ(2,"i",26),e.qZA(),e.TgZ(3,"div",27),e.TgZ(4,"button",28),e.NdJ("click",function(){const a=e.CHM(t).row,p=e.oxw(),f=e.MAs(31);return p.detail(a,f)}),e.TgZ(5,"div",29),e._UZ(6,"i",30),e.TgZ(7,"span",31),e._uU(8,"Editer"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"button",28),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().delete(a)}),e.TgZ(10,"div",29),e._UZ(11,"i",32),e.TgZ(12,"span",31),e._uU(13,"Suprimer"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function U(n,o){1&n&&(e.TgZ(0,"div",66),e._uU(1," Code is required "),e.qZA())}function C(n,o){if(1&n&&(e.TgZ(0,"ng-option",67),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function j(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"h4",34),e._uU(2,"Ajouter un pays"),e.qZA(),e.TgZ(3,"button",35),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",36),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",37),e.TgZ(7,"form",38),e.TgZ(8,"div",39),e.TgZ(9,"div",40),e.TgZ(10,"div",2),e.TgZ(11,"div",41),e.TgZ(12,"label",42),e._uU(13,"Code"),e.qZA(),e._UZ(14,"input",43),e.YNc(15,U,2,0,"div",44),e.qZA(),e.TgZ(16,"div",41),e.TgZ(17,"label",42),e._uU(18,"Libelle"),e.qZA(),e._UZ(19,"input",45),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"div",41),e.TgZ(22,"label",42),e._uU(23,"Monaire "),e.qZA(),e._UZ(24,"input",46),e.qZA(),e.TgZ(25,"div",41),e.TgZ(26,"label",42),e._uU(27,"Zone"),e.qZA(),e.TgZ(28,"ng-select",47),e.YNc(29,C,2,2,"ng-option",48),e.qZA(),e.qZA(),e.TgZ(30,"div",3),e.TgZ(31,"label",42),e._uU(32,"Operateurs"),e.qZA(),e.TgZ(33,"ng-select",49),e.TgZ(34,"ng-option",50),e._uU(35," MTN Mobile Money "),e.qZA(),e.TgZ(36,"ng-option",51),e._uU(37," Orange Mobile Money "),e.qZA(),e.TgZ(38,"ng-option",52),e._uU(39," AIRTEL Money "),e.qZA(),e.TgZ(40,"ng-option",53),e._uU(41," MOOV "),e.qZA(),e.TgZ(42,"ng-option",54),e._uU(43," FREE Money "),e.qZA(),e.TgZ(44,"ng-option",55),e._uU(45," MPESA "),e.qZA(),e.TgZ(46,"ng-option",56),e._uU(47," TOGOCEL "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",41),e.TgZ(49,"label",57),e._uU(50,"Code ISO "),e.qZA(),e._UZ(51,"input",58),e.qZA(),e.TgZ(52,"div",41),e.TgZ(53,"label",59),e._uU(54,"Payer code "),e.qZA(),e._UZ(55,"input",60),e.qZA(),e.TgZ(56,"div",41),e.TgZ(57,"label",42),e._uU(58,"Drapeau "),e.qZA(),e.TgZ(59,"div",61),e._UZ(60,"img",23),e.qZA(),e.TgZ(61,"input",62),e.NdJ("change",function(r){return e.CHM(t),e.oxw().onFileSelect(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",63),e.TgZ(63,"button",64),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(64,"Close"),e.qZA(),e.TgZ(65,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(66,"Save"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(14),e.Q6J("ngForOf",t.zoneSharedCollection),e.xp6(31),e.Q6J("src",t.imageSrc,e.LSH),e.xp6(5),e.Q6J("disabled",!t.form.valid)}}function L(n,o){1&n&&(e.TgZ(0,"div",66),e._uU(1," Code is required "),e.qZA())}function I(n,o){if(1&n&&(e.TgZ(0,"ng-option",67),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function G(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"h4",34),e._uU(2,"Modifier un pays"),e.qZA(),e.TgZ(3,"button",35),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",36),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",37),e.TgZ(7,"form",68),e.TgZ(8,"div",39),e.TgZ(9,"div",40),e.TgZ(10,"div",2),e.TgZ(11,"div",41),e.TgZ(12,"label",42),e._uU(13,"Code"),e.qZA(),e._UZ(14,"input",43),e.YNc(15,L,2,0,"div",44),e.qZA(),e.TgZ(16,"div",41),e.TgZ(17,"label",42),e._uU(18,"Libelle"),e.qZA(),e._UZ(19,"input",45),e.qZA(),e.qZA(),e.TgZ(20,"div",2),e.TgZ(21,"div",41),e.TgZ(22,"label",42),e._uU(23,"Monaire "),e.qZA(),e._UZ(24,"input",46),e.qZA(),e.TgZ(25,"div",41),e.TgZ(26,"label",42),e._uU(27,"Zone"),e.qZA(),e.TgZ(28,"ng-select",47),e.YNc(29,I,2,2,"ng-option",48),e.qZA(),e.qZA(),e.TgZ(30,"div",3),e.TgZ(31,"label",42),e._uU(32,"Operateurs"),e.qZA(),e.TgZ(33,"ng-select",49),e.TgZ(34,"ng-option",50),e._uU(35," MTN Mobile Money "),e.qZA(),e.TgZ(36,"ng-option",51),e._uU(37," Orange Mobile Money "),e.qZA(),e.TgZ(38,"ng-option",52),e._uU(39," AIRTEL Money "),e.qZA(),e.TgZ(40,"ng-option",53),e._uU(41," MOOV "),e.qZA(),e.TgZ(42,"ng-option",54),e._uU(43," FREE Money "),e.qZA(),e.TgZ(44,"ng-option",55),e._uU(45," MPESA "),e.qZA(),e.TgZ(46,"ng-option",56),e._uU(47," TOGOCEL "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",41),e.TgZ(49,"label",57),e._uU(50,"Code ISO "),e.qZA(),e._UZ(51,"input",58),e.qZA(),e.TgZ(52,"div",41),e.TgZ(53,"label",59),e._uU(54,"Payer code "),e.qZA(),e._UZ(55,"input",60),e.qZA(),e.TgZ(56,"div",41),e.TgZ(57,"label",42),e._uU(58,"Drapeau "),e.qZA(),e.TgZ(59,"div",61),e._UZ(60,"img",23),e.qZA(),e.TgZ(61,"input",62),e.NdJ("change",function(r){return e.CHM(t),e.oxw().onFileSelect(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",63),e.TgZ(63,"button",64),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(64,"Close"),e.qZA(),e.TgZ(65,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(66,"Update"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(14),e.Q6J("ngForOf",t.zoneSharedCollection),e.xp6(31),e.Q6J("src",t.imageSrc,e.LSH),e.xp6(5),e.Q6J("disabled",!t.form.valid)}}const D=function(){return["Taux d'echange","Lists"]};class S{constructor(o,t,i,r,a,p,f){this.staticservice=o,this.router=t,this.modalService=i,this.fb=r,this.translateService=a,this.toaster=p,this.userService=f,this.rows=[],this.selected=[],this.zoneSharedCollection=[],this.imageSrc="",this.status=!1,this.form=this.fb.group({code:["",[l.kI.required]],libelle:["",l.kI.required],zone:["",l.kI.required],monaire:["",l.kI.required],codeiso:["",l.kI.required],payercode:["",l.kI.required],operateur:["",l.kI.required],flag:[],id:[]})}onSelect({selected:o}){this.selected.splice(0,this.selected.length),this.selected.push(...o)}openLg(o){this.form.reset(),this.modalService.open(o,{size:"lg"})}ngOnInit(){this.staticservice.GetCountries().subscribe(o=>{this.rows=o.data}),this.staticservice.GetZones().subscribe(o=>{this.zoneSharedCollection=o.data})}onSubmit(){this.form.value.flag=this.imageSrc;const o={data:{code:this.form.value.code,zone:this.form.value.zone,monaire:this.form.value.monaire,libelle:this.form.value.libelle,flag:this.form.value.flag,operateur:this.form.value.operateur,codeiso:this.form.value.codeiso,payercode:this.form.value.payercode,id:this.form.value.id}};console.log(o),this.staticservice.createcountry(o).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.staticservice.GetCountries().subscribe(i=>{this.rows=i.data})},t=>{console.log(t),this.toaster.error(this.translateService.instant("internalServerError"),t.message)})}detail(o,t){this.imageSrc=o.flag,this.form.patchValue({code:o.code,payercode:o.payerCode,zone:o.zone.id,monaire:o.monaire,libelle:o.libelle,codeiso:o.code_string,operateur:o.operateur,id:o.id}),this.modalService.open(t,{size:"lg"})}delete(o){}onFileSelect(o){this.status=!1;const t=o.target.files[0];if(this.status=o.target.files.length>0,!0===this.status){const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{this.imageSrc=i.result}}}}function z(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.code," ")}}function R(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.libelle," ")}}function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.TgZ(1,"button",21),e._UZ(2,"i",22),e.qZA(),e.TgZ(3,"div",23),e.TgZ(4,"button",24),e.NdJ("click",function(){const a=e.CHM(t).row,p=e.oxw(),f=e.MAs(25);return p.detail(f,a)}),e.TgZ(5,"div",25),e._UZ(6,"i",26),e.TgZ(7,"span",27),e._uU(8,"Editer"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"button",24),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().delete(a)}),e.TgZ(10,"div",25),e._UZ(11,"i",28),e.TgZ(12,"span",27),e._uU(13,"Suprimer"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function V(n,o){1&n&&(e.TgZ(0,"div",46),e._uU(1," libelle is required "),e.qZA())}function B(n,o){1&n&&(e.TgZ(0,"div",46),e._uU(1," code is required "),e.qZA())}function P(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"h4",30),e._uU(2,"Nouvelle zone"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",32),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"form",34),e.TgZ(8,"div",35),e.TgZ(9,"div",36),e.TgZ(10,"div",2),e.TgZ(11,"div",37),e.TgZ(12,"label",38),e._uU(13,"Libelle"),e.qZA(),e._UZ(14,"input",39),e.YNc(15,V,2,0,"div",40),e.qZA(),e.TgZ(16,"div",37),e.TgZ(17,"label",38),e._uU(18,"Code"),e.qZA(),e._UZ(19,"input",41),e.YNc(20,B,2,0,"div",40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(21,"input",42),e.qZA(),e.qZA(),e.TgZ(22,"div",43),e.TgZ(23,"button",44),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(24,"Close"),e.qZA(),e.TgZ(25,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(26,"Save"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngIf",t.form.controls.libelle.touched&&(null==t.form.controls.libelle.errors?null:t.form.controls.libelle.errors.phone)),e.xp6(5),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(5),e.Q6J("disabled",!t.form.valid)}}function K(n,o){1&n&&(e.TgZ(0,"div",46),e._uU(1," libelle is required "),e.qZA())}function $(n,o){1&n&&(e.TgZ(0,"div",46),e._uU(1," code is required "),e.qZA())}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"h4",30),e._uU(2,"Modifier zone"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",32),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"form",34),e.TgZ(8,"div",35),e.TgZ(9,"div",36),e.TgZ(10,"div",2),e.TgZ(11,"div",37),e.TgZ(12,"label",38),e._uU(13,"Libelle"),e.qZA(),e._UZ(14,"input",39),e.YNc(15,K,2,0,"div",40),e.qZA(),e.TgZ(16,"div",37),e.TgZ(17,"label",38),e._uU(18,"Code"),e.qZA(),e._UZ(19,"input",41),e.YNc(20,$,2,0,"div",40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",43),e.TgZ(22,"button",44),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(23,"Close"),e.qZA(),e.TgZ(24,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(25,"Update"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngIf",t.form.controls.libelle.touched&&(null==t.form.controls.libelle.errors?null:t.form.controls.libelle.errors.phone)),e.xp6(5),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(4),e.Q6J("disabled",!t.form.valid)}}S.\u0275fac=function(o){return new(o||S)(e.Y36(A.T),e.Y36(h.F0),e.Y36(m.FF),e.Y36(l.qu),e.Y36(_.sK),e.Y36(T._W),e.Y36(v.f))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-country"]],decls:32,vars:22,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Drapeau"],["ngx-datatable-cell-template",""],["name","Code"],["name","Libelle"],["name","Monaire"],["name","payerCode"],["cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentedit",""],["alt","avater",1,"img-fluid","w-90","rounded",3,"src"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","code","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","libelle","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","monaire","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["formControlName","zone","id","con-country"],[3,"value",4,"ngFor","ngForOf"],["multiple","multiple","formControlName","operateur","id","con-operateur"],["value","MTN"],["value","OM"],["value","AIRTEL"],["value","MV"],["value","FREE"],["value","MPESA"],["value","TOGOCEL"],["for","con-iso"],["formControlName","codeiso","id","con-iso","type","text","placeholder","CI","required","","autocomplete","off",1,"form-control"],["for","payercode"],["formControlName","payercode","id","payercode","type","text","placeholder","payercode","required","","autocomplete","off",1,"form-control"],[1,"mb-3"],["formControlName","flag","id","con-phone","type","file","autocomplete","off",1,"form-control",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[1,"text","text-danger","mt-1"],[3,"value"],["id","bookmark-form-edit",1,"form-bookmark","needs-validation",3,"formGroup"]],template:function(o,t){if(1&o){const i=e.EpF();e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h5",6),e._uU(7,"Listes des pays"),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(29);return t.openLg(a)}),e._UZ(11,"i",10),e._uU(12,"Ajouter un pays "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"ngx-datatable",12),e.NdJ("select",function(a){return t.onSelect(a)}),e._UZ(15,"ngx-datatable-column",13),e.TgZ(16,"ngx-datatable-column",14),e.YNc(17,d,1,1,"ng-template",15),e.qZA(),e.TgZ(18,"ngx-datatable-column",16),e.YNc(19,Z,1,1,"ng-template",15),e.qZA(),e.TgZ(20,"ngx-datatable-column",17),e.YNc(21,O,1,1,"ng-template",15),e.qZA(),e.TgZ(22,"ngx-datatable-column",18),e.YNc(23,Y,1,1,"ng-template",15),e.qZA(),e.TgZ(24,"ngx-datatable-column",19),e.YNc(25,y,1,1,"ng-template",15),e.qZA(),e.TgZ(26,"ngx-datatable-column",20),e.YNc(27,F,14,0,"ng-template",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(28,j,67,5,"ng-template",null,21,e.W1O),e.YNc(30,G,67,5,"ng-template",null,22,e.W1O)}2&o&&(e.Q6J("title","Taux d'echange")("items",e.DdM(21,D))("active_item","Taux d'echange"),e.xp6(14),e.Q6J("rows",t.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",t.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),e.xp6(1),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),e.xp6(11),e.Q6J("sortable",!1)("width",40))},directives:[s.L,c.nE,c.UC,c.vq,m.jt,m.iD,m.Vi,m.TH,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.Q7,b.O5,g.w9,b.sg,g.xv],styles:[""]});const ee=function(){return["Zone","Lists"]};class k{constructor(o,t,i,r,a,p,f){this.staticservice=o,this.router=t,this.modalService=i,this.fb=r,this.translateService=a,this.toaster=p,this.userService=f,this.rows=[],this.selected=[],this.form=this.fb.group({code:["",[l.kI.required]],libelle:["",l.kI.required],id:[]})}onSelect({selected:o}){this.selected.splice(0,this.selected.length),this.selected.push(...o)}openLg(o){this.form.reset(),this.modalService.open(o,{size:"lg"})}ngOnInit(){this.staticservice.GetZones().subscribe(o=>{this.rows=o.data})}onSubmit(){const o={data:{code:this.form.value.code,libelle:this.form.value.libelle,id:this.form.value.id}};console.log(o),this.staticservice.create(o).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.staticservice.GetZones().subscribe(i=>{this.rows=i.data})},t=>{console.log(t),this.toaster.error(this.translateService.instant("internalServerError"),t.message)})}detail(o,t){this.form.patchValue({code:t.code,libelle:t.libelle,id:t.id}),this.modalService.open(o,{size:"lg"})}delete(o){}}function te(n,o){1&n&&(e.TgZ(0,"div",22),e._uU(1," Code is required "),e.qZA())}k.\u0275fac=function(o){return new(o||k)(e.Y36(A.T),e.Y36(h.F0),e.Y36(m.FF),e.Y36(l.qu),e.Y36(_.sK),e.Y36(T._W),e.Y36(v.f))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-zone"]],decls:26,vars:22,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Code"],["ngx-datatable-cell-template",""],["name","Libelle"],["cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentedit",""],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"col-sm-6"],["for","con-phone"],["formControlName","libelle","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","code","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["id","index_var","type","hidden","value","5"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[1,"text","text-danger","mt-1"]],template:function(o,t){if(1&o){const i=e.EpF();e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h5",6),e._uU(7,"Liste des zones"),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(23);return t.openLg(a)}),e._UZ(11,"i",10),e._uU(12,"Ajouter une zone "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"ngx-datatable",12),e.NdJ("select",function(a){return t.onSelect(a)}),e._UZ(15,"ngx-datatable-column",13),e.TgZ(16,"ngx-datatable-column",14),e.YNc(17,z,1,1,"ng-template",15),e.qZA(),e.TgZ(18,"ngx-datatable-column",16),e.YNc(19,R,1,1,"ng-template",15),e.qZA(),e.TgZ(20,"ngx-datatable-column",17),e.YNc(21,W,14,0,"ng-template",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,P,27,4,"ng-template",null,18,e.W1O),e.YNc(24,X,26,4,"ng-template",null,19,e.W1O)}2&o&&(e.Q6J("title","Zones")("items",e.DdM(21,ee))("active_item","Zone"),e.xp6(14),e.Q6J("rows",t.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",t.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),e.xp6(1),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),e.xp6(5),e.Q6J("sortable",!1)("width",40))},directives:[s.L,c.nE,c.UC,c.vq,m.jt,m.iD,m.Vi,m.TH,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.Q7,b.O5],styles:[""]});const oe=function(){return["Configuration","Lists"]};class M{constructor(o,t,i,r,a,p){this.staticservice=o,this.router=t,this.modalService=i,this.fb=r,this.translateService=a,this.toaster=p,this.form=this.fb.group({tauxplatform:["",[l.kI.required]],phone:[]})}ngOnInit(){this.staticservice.GetConfiguration().subscribe(o=>{this.form.patchValue({tauxplatform:o.data.tauxplatform,phone:o.data.phone})})}onSubmit(){const o={data:{tauxplatform:this.form.value.tauxplatform,phone:this.form.value.phone}};this.staticservice.createConfig(o).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},t=>{console.log(t),this.toaster.error(this.translateService.instant("internalServerError"),t.message)})}onSubmitAppInfobip(){this.staticservice.GenerateInfobip().subscribe(o=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},o=>{console.log(o),this.toaster.error(this.translateService.instant("internalServerError"),o.message)})}}function ne(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.code," ")}}function ie(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.libelle," ")}}function re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.TgZ(1,"button",21),e._UZ(2,"i",22),e.qZA(),e.TgZ(3,"div",23),e.TgZ(4,"button",24),e.NdJ("click",function(){const a=e.CHM(t).row,p=e.oxw(),f=e.MAs(25);return p.detail(f,a)}),e.TgZ(5,"div",25),e._UZ(6,"i",26),e.TgZ(7,"span",27),e._uU(8,"Editer"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"button",24),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().delete(a)}),e.TgZ(10,"div",25),e._UZ(11,"i",28),e.TgZ(12,"span",27),e._uU(13,"Suprimer"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function le(n,o){if(1&n&&(e.TgZ(0,"ng-option",50),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function ae(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," libelle is required "),e.qZA())}function ce(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," code is required "),e.qZA())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"h4",30),e._uU(2,"Nouvelle villes"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",32),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"form",34),e.TgZ(8,"div",35),e.TgZ(9,"div",36),e.TgZ(10,"div",2),e.TgZ(11,"div",37),e.TgZ(12,"label",38),e._uU(13,"Pays"),e.qZA(),e.TgZ(14,"ng-select",39),e.YNc(15,le,2,2,"ng-option",40),e.qZA(),e.qZA(),e.TgZ(16,"div",41),e.TgZ(17,"label",42),e._uU(18,"Libelle"),e.qZA(),e._UZ(19,"input",43),e.YNc(20,ae,2,0,"div",44),e.qZA(),e.TgZ(21,"div",41),e.TgZ(22,"label",42),e._uU(23,"Code"),e.qZA(),e._UZ(24,"input",45),e.YNc(25,ce,2,0,"div",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"input",46),e.qZA(),e.qZA(),e.TgZ(27,"div",47),e.TgZ(28,"button",48),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(29,"Close"),e.qZA(),e.TgZ(30,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(31,"Save"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngForOf",t.countries),e.xp6(5),e.Q6J("ngIf",t.form.controls.libelle.touched&&(null==t.form.controls.libelle.errors?null:t.form.controls.libelle.errors.phone)),e.xp6(5),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(5),e.Q6J("disabled",!t.form.valid)}}function de(n,o){if(1&n&&(e.TgZ(0,"ng-option",50),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.libelle," ")}}function ue(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," libelle is required "),e.qZA())}function me(n,o){1&n&&(e.TgZ(0,"div",51),e._uU(1," code is required "),e.qZA())}function pe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.TgZ(1,"h4",30),e._uU(2,"Modifier zone"),e.qZA(),e.TgZ(3,"button",31),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",32),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",33),e.TgZ(7,"form",34),e.TgZ(8,"div",35),e.TgZ(9,"div",36),e.TgZ(10,"div",2),e.TgZ(11,"div",37),e.TgZ(12,"label",38),e._uU(13,"Pays"),e.qZA(),e.TgZ(14,"ng-select",39),e.YNc(15,de,2,2,"ng-option",40),e.qZA(),e.qZA(),e.TgZ(16,"div",41),e.TgZ(17,"label",42),e._uU(18,"Libelle"),e.qZA(),e._UZ(19,"input",43),e.YNc(20,ue,2,0,"div",44),e.qZA(),e.TgZ(21,"div",41),e.TgZ(22,"label",42),e._uU(23,"Code"),e.qZA(),e._UZ(24,"input",45),e.YNc(25,me,2,0,"div",44),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",47),e.TgZ(27,"button",48),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Close click")}),e._uU(28,"Close"),e.qZA(),e.TgZ(29,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(30,"Update"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngForOf",t.countries),e.xp6(5),e.Q6J("ngIf",t.form.controls.libelle.touched&&(null==t.form.controls.libelle.errors?null:t.form.controls.libelle.errors.phone)),e.xp6(5),e.Q6J("ngIf",t.form.controls.code.touched&&(null==t.form.controls.code.errors?null:t.form.controls.code.errors.phone)),e.xp6(4),e.Q6J("disabled",!t.form.valid)}}M.\u0275fac=function(o){return new(o||M)(e.Y36(A.T),e.Y36(h.F0),e.Y36(m.FF),e.Y36(l.qu),e.Y36(_.sK),e.Y36(T._W))},M.\u0275cmp=e.Xpm({type:M,selectors:[["app-configuration"]],decls:28,vars:7,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,""],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-game-console"],[1,"card-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"row"],[1,"col-sm-6"],["for","con-phone"],["formControlName","tauxplatform","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","phone","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],[1,"card-footer"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[1,"text","text-danger","mt-1"]],template:function(o,t){1&o&&(e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"h5",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"button",8),e.NdJ("click",function(){return t.onSubmitAppInfobip()}),e._UZ(9,"i",9),e._uU(10,"Generate template infobip "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",10),e.TgZ(12,"form",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"div",14),e.TgZ(16,"div",15),e.TgZ(17,"label",16),e._uU(18,"Taux systeme"),e.qZA(),e._UZ(19,"input",17),e.YNc(20,te,2,0,"div",18),e.qZA(),e.TgZ(21,"div",15),e.TgZ(22,"label",16),e._uU(23,"T\xe9l\xe9phone"),e.qZA(),e._UZ(24,"input",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",20),e.TgZ(26,"button",21),e.NdJ("click",function(){return t.onSubmit()}),e._uU(27,"Save"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.Q6J("title","Configuration")("items",e.DdM(6,oe))("active_item","Configuration"),e.xp6(12),e.Q6J("formGroup",t.form),e.xp6(8),e.Q6J("ngIf",t.form.controls.tauxplatform.touched&&(null==t.form.controls.tauxplatform.errors?null:t.form.controls.tauxplatform.errors.phone)),e.xp6(6),e.Q6J("disabled",!t.form.valid))},directives:[s.L,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.Q7,b.O5],styles:[""]});const _e=function(){return["Ville","Listes"]};class J{constructor(o,t,i,r,a,p,f){this.staticservice=o,this.router=t,this.modalService=i,this.fb=r,this.translateService=a,this.toaster=p,this.userService=f,this.rows=[],this.countries=[],this.selected=[],this.form=this.fb.group({code:["",[l.kI.required]],libelle:["",l.kI.required],country:["",l.kI.required],id:[]})}onSelect({selected:o}){this.selected.splice(0,this.selected.length),this.selected.push(...o)}openLg(o){this.form.reset(),this.modalService.open(o,{size:"lg"})}ngOnInit(){this.staticservice.GetTowns().subscribe(o=>{this.rows=o.data}),this.staticservice.GetCountries().subscribe(o=>{this.countries=o.data})}onSubmit(){const o={data:{code:this.form.value.code,libelle:this.form.value.libelle,country:this.form.value.country,id:this.form.value.id}};console.log(o),this.staticservice.createtown(o).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.modalService.dismissAll(),this.staticservice.GetTowns().subscribe(i=>{this.rows=i.data})},t=>{console.log(t),this.toaster.error(this.translateService.instant("internalServerError"),t.message)})}detail(o,t){this.form.patchValue({code:t.code,libelle:t.libelle,id:t.id,country:null==t.country?"":t.country.id}),this.modalService.open(o,{size:"lg"})}delete(o){}}J.\u0275fac=function(o){return new(o||J)(e.Y36(A.T),e.Y36(h.F0),e.Y36(m.FF),e.Y36(l.qu),e.Y36(_.sK),e.Y36(T._W),e.Y36(v.f))},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-town"]],decls:26,vars:22,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"icofont","icofont-plus"],[1,"card-body","custom-datatable"],[1,"",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","selected","selectionType","selectAllRowsOnPage","select"],[3,"width","sortable","canAutoResize","draggable","resizeable","headerCheckboxable","checkboxable"],["name","Code"],["ngx-datatable-cell-template",""],["name","Libelle"],["cellClass","allow-overflow",3,"sortable","width"],["content",""],["contentedit",""],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],[1,"icofont","icofont-hand-drawn-down"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","bookmark-form",1,"form-bookmark","needs-validation",3,"formGroup"],[1,"form-row"],[1,"form-group","mb-3","col-md-12","my-0"],[1,"form-group","col-md-12"],["for","con-ville"],["formControlName","country","id","con-ville"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-6"],["for","con-phone"],["formControlName","libelle","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","code","id","con-phone","type","text","placeholder","","required","","autocomplete","off",1,"form-control"],["id","index_var","type","hidden","value","5"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-secondary","mr-1","pull-right",3,"disabled","click"],[3,"value"],[1,"text","text-danger","mt-1"]],template:function(o,t){if(1&o){const i=e.EpF();e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h5",6),e._uU(7,"Liste des villes"),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(i);const a=e.MAs(23);return t.openLg(a)}),e._UZ(11,"i",10),e._uU(12,"Ajouter une ville "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"ngx-datatable",12),e.NdJ("select",function(a){return t.onSelect(a)}),e._UZ(15,"ngx-datatable-column",13),e.TgZ(16,"ngx-datatable-column",14),e.YNc(17,ne,1,1,"ng-template",15),e.qZA(),e.TgZ(18,"ngx-datatable-column",16),e.YNc(19,ie,1,1,"ng-template",15),e.qZA(),e.TgZ(20,"ngx-datatable-column",17),e.YNc(21,re,14,0,"ng-template",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,se,32,5,"ng-template",null,18,e.W1O),e.YNc(24,pe,31,5,"ng-template",null,19,e.W1O)}2&o&&(e.Q6J("title","Ville")("items",e.DdM(21,_e))("active_item","Ville"),e.xp6(14),e.Q6J("rows",t.rows)("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",5)("selected",t.selected)("selectionType","checkbox")("selectAllRowsOnPage",!1),e.xp6(1),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1)("headerCheckboxable",!0)("checkboxable",!0),e.xp6(5),e.Q6J("sortable",!1)("width",40))},directives:[s.L,c.nE,c.UC,c.vq,m.jt,m.iD,m.Vi,m.TH,l._Y,l.JL,l.sg,g.w9,l.JJ,l.u,b.sg,l.Fj,l.Q7,b.O5,g.xv],styles:[""]});var ge=u(4528),Ze=u(2473),Q=u(5788);class q{constructor(){this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}exportExcel(o,t){const r={Sheets:{data:Q.P6.json_to_sheet(o)},SheetNames:["data"]},a=Q.cW(r,{bookType:"xlsx",type:"array"});this.saveExcelFile(a,t)}saveExcelFile(o,t){const i=new Blob([o],{type:this.fileType});Ze.saveAs(i,t+this.fileExtension)}}function fe(n,o){if(1&n&&(e._uU(0),e.ALo(1,"date")),2&n){const t=o.row;e.hij(" ",e.xi3(1,1,t.datetransaction,"MMM d, y, h:mm a")," ")}}function be(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.customer," ")}}function he(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.numerotransaction," ")}}function Te(n,o){if(1&n&&(e._uU(0),e.ALo(1,"currency")),2&n){const t=o.row;e.hij(" ",e.gM2(1,1,t.montant,t.monaire,"",".2-2")," ")}}function ve(n,o){if(1&n&&(e._uU(0),e.ALo(1,"currency")),2&n){const t=o.row;e.hij(" ",e.gM2(1,1,t.fraisenvoi,t.monaire,"",".2-2")," ")}}function Ae(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.montantfrais," ")}}function Ce(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",37),e.NdJ("blur",function(r){const p=e.CHM(t).rowIndex;return e.oxw().updateValue(r,"tauxjours",p)}),e.qZA()}if(2&n){const t=o.row;e.s9C("value",t.tauxjours)}}function qe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",38),e.NdJ("blur",function(r){const p=e.CHM(t).rowIndex;return e.oxw().updateValue(r,"maxicashusd",p)}),e.qZA()}if(2&n){const t=o.row;e.s9C("value",t.maxicashusd)}}function xe(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.maxicashxaf," ")}}function we(n,o){if(1&n&&e._uU(0),2&n){const t=o.row;e.hij(" ",t.marge," ")}}q.\u0275fac=function(o){return new(o||q)},q.\u0275prov=e.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"});const ye=function(){return["Analyse","Marge"]};class N{constructor(o,t,i,r){this.paymentService=o,this.exportService=t,this.translateService=i,this.toaster=r,this.rows=[],this.selected=[],this.ColumnMode=c.hq,this.addupdate=0}ngOnInit(){}onSelect({selected:o}){this.selected.splice(0,this.selected.length),this.selected.push(...o)}search(){this.rows=[],console.log("inline editing rowIndex"+this.sender+this.dateoperation),this.paymentService.GetSearchtransaction(this.addupdate,this.sender,this.dateoperationbegin,this.dateoperation).subscribe(o=>{this.rows=o.data,console.log(this.rows)})}export(){this.exportService.exportExcel(this.rows,"marges")}updateValue(o,t,i){console.log("inline editing rowIndex",i),this.rows[i][t]=o.target.value,this.rows=[...this.rows],console.log("UPDATED!",this.rows[i][t])}calculate(){for(let r=0;r<this.rows.length;r++){var o=this.rows[r].montant+this.rows[r].fraisenvoi,t=this.rows[r].tauxjours*this.rows[r].maxicashusd,i=o-t;this.rows[r].montantfrais=o,this.rows[r].maxicashxaf=t,this.rows[r].marge=i,this.rows=[...this.rows],console.log(o)}}save(){const o={data:this.rows};console.log(o),this.paymentService.saveannalyse(o).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},t=>{console.log(t),this.toaster.error(this.translateService.instant("internalServerError"),t.message)})}}N.\u0275fac=function(o){return new(o||N)(e.Y36(ge.t),e.Y36(q),e.Y36(_.sK),e.Y36(T._W))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-analysemarge"]],decls:54,vars:30,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"mt-3","d-grid","gap-2","d-md-flex","justify-content-md-center"],[1,"col-sm-6"],["for","con-find"],[1,"form-control","form-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],[1,"mt-3","d-grid","gap-2","d-md-flex","justify-content-md-end"],["id","con-emtteeur","type","text","placeholder","Emetteur","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["id","con-date","type","date","placeholder","","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["id","cp3","title","",1,"input-group"],[1,"input-group-text",3,"click"],["data-feather","search"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"fullscreen",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","scrollbarV","scrollbarH","limit","selected","selectionType","select"],["name","Date",3,"flexGrow","minWidth"],["ngx-datatable-cell-template",""],["name","Customer",3,"flexGrow","minWidth"],["name","Ref transaction",3,"flexGrow","minWidth"],["name","Montant",3,"flexGrow","minWidth"],["name","Frais"],["ngx-datatable-cell-template","",3,"flexGrow","minWidth"],["name","Montant frais",3,"flexGrow","minWidth"],["name","Taux jours"],["name","Max.C USD"],["name","Max.C XAF"],["name","Marge"],["size","10","autofocus","","type","text",3,"value","blur"],["size","12","autofocus","","type","text",3,"value","blur"]],template:function(o,t){1&o&&(e._UZ(0,"app-breadcrumb",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h5",6),e._uU(7,"Analyse marge"),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"label",9),e._uU(11,"Ajout/Modifier"),e.qZA(),e.TgZ(12,"select",10),e.NdJ("ngModelChange",function(r){return t.addupdate=r}),e.TgZ(13,"option",11),e._uU(14,"Ajouter"),e.qZA(),e.TgZ(15,"option",12),e._uU(16,"Modifier"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"input",14),e.NdJ("ngModelChange",function(r){return t.sender=r}),e.qZA(),e.TgZ(19,"input",15),e.NdJ("ngModelChange",function(r){return t.dateoperationbegin=r}),e.qZA(),e.TgZ(20,"div",16),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(r){return t.dateoperation=r}),e.qZA(),e.TgZ(22,"span",17),e.NdJ("click",function(){return t.search()}),e._UZ(23,"i",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",7),e.TgZ(25,"button",19),e.NdJ("click",function(){return t.calculate()}),e._uU(26," Calculate "),e.qZA(),e.TgZ(27,"button",20),e.NdJ("click",function(){return t.save()}),e._uU(28," Save "),e.qZA(),e.TgZ(29,"button",21),e.NdJ("click",function(){return t.export()}),e._uU(30," Export "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",22),e.TgZ(32,"div",23),e.TgZ(33,"ngx-datatable",24),e.NdJ("select",function(r){return t.onSelect(r)}),e.TgZ(34,"ngx-datatable-column",25),e.YNc(35,fe,2,4,"ng-template",26),e.qZA(),e.TgZ(36,"ngx-datatable-column",27),e.YNc(37,be,1,1,"ng-template",26),e.qZA(),e.TgZ(38,"ngx-datatable-column",28),e.YNc(39,he,1,1,"ng-template",26),e.qZA(),e.TgZ(40,"ngx-datatable-column",29),e.YNc(41,Te,2,6,"ng-template",26),e.qZA(),e.TgZ(42,"ngx-datatable-column",30),e.YNc(43,ve,2,6,"ng-template",31),e.qZA(),e.TgZ(44,"ngx-datatable-column",32),e.YNc(45,Ae,1,1,"ng-template",26),e.qZA(),e.TgZ(46,"ngx-datatable-column",33),e.YNc(47,Ce,1,1,"ng-template",26),e.qZA(),e.TgZ(48,"ngx-datatable-column",34),e.YNc(49,qe,1,1,"ng-template",26),e.qZA(),e.TgZ(50,"ngx-datatable-column",35),e.YNc(51,xe,1,1,"ng-template",26),e.qZA(),e.TgZ(52,"ngx-datatable-column",36),e.YNc(53,we,1,1,"ng-template",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.Q6J("title","Analyse")("items",e.DdM(29,ye))("active_item","Marge"),e.xp6(12),e.Q6J("ngModel",t.addupdate),e.xp6(6),e.Q6J("ngModel",t.sender),e.xp6(1),e.Q6J("ngModel",t.dateoperationbegin),e.xp6(2),e.Q6J("ngModel",t.dateoperation),e.xp6(12),e.Q6J("rows",t.rows)("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight",50)("scrollbarV",!0)("scrollbarH",!0)("limit",150)("selected",t.selected)("selectionType","checkbox"),e.xp6(1),e.Q6J("flexGrow",1)("minWidth",100),e.xp6(2),e.Q6J("flexGrow",3)("minWidth",100),e.xp6(2),e.Q6J("flexGrow",3)("minWidth",200),e.xp6(2),e.Q6J("flexGrow",1)("minWidth",100),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",70),e.xp6(1),e.Q6J("flexGrow",1)("minWidth",80))},directives:[s.L,l.EJ,l.JJ,l.On,l.YN,l.Kr,l.Fj,l.Q7,c.nE,c.UC,c.vq],pipes:[b.uU,b.H9],styles:[""]});const Ue=[{path:"",children:[{path:"analysemarge-page",component:N},{path:"country-page",component:S},{path:"town-page",component:J},{path:"zone-page",component:k},{path:"configuration",component:M}]}];class x{}x.\u0275fac=function(o){return new(o||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Ue)],h.Bz]});var Se=u(1382),ke=u(3501),Me=u(1062);class w{}w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[[b.ez,Se.m,ke.O,g.A0,c.xD,Me.k,x]]})}}]);